<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>URIVisionLibrary: uriVL::PatternMatcher2D_scaledDiff Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">URIVisionLibrary
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceuriVL.html">uriVL</a></li><li class="navelem"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html">PatternMatcher2D_scaledDiff</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classuriVL_1_1PatternMatcher2D__scaledDiff-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">uriVL::PatternMatcher2D_scaledDiff Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>One of the simplest possible subclasses of <a class="el" href="classuriVL_1_1PatternMatcher2D.html" title="Parent class for all 2D pattern matchers. ">PatternMatcher2D</a>.  
 <a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html">PatternMatcher2D_scaledDiff.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for uriVL::PatternMatcher2D_scaledDiff:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff__inherit__graph.png" border="0" usemap="#uriVL_1_1PatternMatcher2D__scaledDiff_inherit__map" alt="Inheritance graph"/></div>
<map name="uriVL_1_1PatternMatcher2D__scaledDiff_inherit__map" id="uriVL_1_1PatternMatcher2D__scaledDiff_inherit__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for uriVL::PatternMatcher2D_scaledDiff:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff__coll__graph.png" border="0" usemap="#uriVL_1_1PatternMatcher2D__scaledDiff_coll__map" alt="Collaboration graph"/></div>
<map name="uriVL_1_1PatternMatcher2D__scaledDiff_coll__map" id="uriVL_1_1PatternMatcher2D__scaledDiff_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad25dca416eb0f81f077ac1f6cb34b364"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ad25dca416eb0f81f077ac1f6cb34b364">PatternMatcher2D_scaledDiff</a> (void)</td></tr>
<tr class="memdesc:ad25dca416eb0f81f077ac1f6cb34b364"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#ad25dca416eb0f81f077ac1f6cb34b364">More...</a><br /></td></tr>
<tr class="separator:ad25dca416eb0f81f077ac1f6cb34b364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a613e2795998155d49e8d14e7d40db111"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a613e2795998155d49e8d14e7d40db111">~PatternMatcher2D_scaledDiff</a> (void)</td></tr>
<tr class="memdesc:a613e2795998155d49e8d14e7d40db111"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a613e2795998155d49e8d14e7d40db111">More...</a><br /></td></tr>
<tr class="separator:a613e2795998155d49e8d14e7d40db111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac741fac680906101cabe62490ac27c34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ac741fac680906101cabe62490ac27c34">setPattern</a> (const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *patImg, const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *patBlob=NULL)</td></tr>
<tr class="memdesc:ac741fac680906101cabe62490ac27c34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to define the pattern used for subsequent covariance calculations.  <a href="#ac741fac680906101cabe62490ac27c34">More...</a><br /></td></tr>
<tr class="separator:ac741fac680906101cabe62490ac27c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad379bc73b61c830d705d7ab4e6edc30b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ad379bc73b61c830d705d7ab4e6edc30b">setPattern</a> (const <a class="el" href="classuriVL_1_1Pattern2D.html">Pattern2D</a> *pattern)</td></tr>
<tr class="memdesc:ad379bc73b61c830d705d7ab4e6edc30b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to define the pattern used for subsequent covariance calculations This function is called by the match_ function.  <a href="#ad379bc73b61c830d705d7ab4e6edc30b">More...</a><br /></td></tr>
<tr class="separator:ad379bc73b61c830d705d7ab4e6edc30b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8477d41694de6589482c3639440258e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a8477d41694de6589482c3639440258e5">setImage</a> (const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *img)</td></tr>
<tr class="memdesc:a8477d41694de6589482c3639440258e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to define the image used for subsequent covariance calculations.  <a href="#a8477d41694de6589482c3639440258e5">More...</a><br /></td></tr>
<tr class="separator:a8477d41694de6589482c3639440258e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6ccb3bfd17ecaaea9c33795a577b248"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ae6ccb3bfd17ecaaea9c33795a577b248">covariance</a> (const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *img, int x, int y, float *cov, float *corrScale)</td></tr>
<tr class="memdesc:ae6ccb3bfd17ecaaea9c33795a577b248"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the correlation score between the pattern stored and an image at the location indicated.  <a href="#ae6ccb3bfd17ecaaea9c33795a577b248">More...</a><br /></td></tr>
<tr class="separator:ae6ccb3bfd17ecaaea9c33795a577b248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aee5817685122731a386f6c2966559d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a8aee5817685122731a386f6c2966559d">covariance</a> (const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *img, int x, int y, float *cov, float *corrScale)</td></tr>
<tr class="memdesc:a8aee5817685122731a386f6c2966559d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the correlation score between the pattern stored and an image at the location indicated.  <a href="#a8aee5817685122731a386f6c2966559d">More...</a><br /></td></tr>
<tr class="separator:a8aee5817685122731a386f6c2966559d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f73507a2576bff79cce60d686b56b31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a1f73507a2576bff79cce60d686b56b31">patternCorrScale</a> (const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *patImg, float *patCorrScale)</td></tr>
<tr class="memdesc:a1f73507a2576bff79cce60d686b56b31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the correlation scaling factor and expected color intensity values for the pattern.  <a href="#a1f73507a2576bff79cce60d686b56b31">More...</a><br /></td></tr>
<tr class="separator:a1f73507a2576bff79cce60d686b56b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3ef5efe310df5ce1ffb6164b6d5f4f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ad3ef5efe310df5ce1ffb6164b6d5f4f0">patternCorrScale</a> (const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *patImg, float *patCorrScale)</td></tr>
<tr class="memdesc:ad3ef5efe310df5ce1ffb6164b6d5f4f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the correlation scaling factor and expected gray intensity value for the pattern.  <a href="#ad3ef5efe310df5ce1ffb6164b6d5f4f0">More...</a><br /></td></tr>
<tr class="separator:ad3ef5efe310df5ce1ffb6164b6d5f4f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaca559b1fd42864e2afec1b31a4a8e48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#aaca559b1fd42864e2afec1b31a4a8e48">patternCorrScale</a> (const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *patImg, const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *patBlob, float *patCorrScale)</td></tr>
<tr class="memdesc:aaca559b1fd42864e2afec1b31a4a8e48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the correlation scaling factor and expected color intensity values for the pattern.  <a href="#aaca559b1fd42864e2afec1b31a4a8e48">More...</a><br /></td></tr>
<tr class="separator:aaca559b1fd42864e2afec1b31a4a8e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7e41a87cc27512ef21d2b31c45af3fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af7e41a87cc27512ef21d2b31c45af3fc">patternCorrScale</a> (const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *patImg, const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *patBlob, float *patCorrScale)</td></tr>
<tr class="memdesc:af7e41a87cc27512ef21d2b31c45af3fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the correlation scaling factor and expected gray intensity value for the pattern.  <a href="#af7e41a87cc27512ef21d2b31c45af3fc">More...</a><br /></td></tr>
<tr class="separator:af7e41a87cc27512ef21d2b31c45af3fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classuriVL_1_1PatternMatcher2D"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classuriVL_1_1PatternMatcher2D')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classuriVL_1_1PatternMatcher2D.html">uriVL::PatternMatcher2D</a></td></tr>
<tr class="memitem:ac0e1b03872b5a3d60db0bd4bf7943835 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#ac0e1b03872b5a3d60db0bd4bf7943835">PatternMatcher2D</a> (void)</td></tr>
<tr class="memdesc:ac0e1b03872b5a3d60db0bd4bf7943835 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#ac0e1b03872b5a3d60db0bd4bf7943835">More...</a><br /></td></tr>
<tr class="separator:ac0e1b03872b5a3d60db0bd4bf7943835 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a05b9ab218d8b637c2e20a047babd2 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a83a05b9ab218d8b637c2e20a047babd2">~PatternMatcher2D</a> (void)</td></tr>
<tr class="memdesc:a83a05b9ab218d8b637c2e20a047babd2 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a83a05b9ab218d8b637c2e20a047babd2">More...</a><br /></td></tr>
<tr class="separator:a83a05b9ab218d8b637c2e20a047babd2 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3feec33c88cddf85b281cf2848e17afc inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceuriVL.html#ae7201d968d3ee314b67cbccbc0a5c8c0">BasePatternMatcher2DType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a3feec33c88cddf85b281cf2848e17afc">getBaseMatcherType</a> (void) const </td></tr>
<tr class="memdesc:a3feec33c88cddf85b281cf2848e17afc inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the matcher is one of the basic types, indicates which.  <a href="#a3feec33c88cddf85b281cf2848e17afc">More...</a><br /></td></tr>
<tr class="separator:a3feec33c88cddf85b281cf2848e17afc inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a450c8e5525d330fa9cad35840307b31d inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a450c8e5525d330fa9cad35840307b31d">isSubpixelMatcher</a> (void)</td></tr>
<tr class="memdesc:a450c8e5525d330fa9cad35840307b31d inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether the matcher returns an integer of floating point (subpixel) best match.  <a href="#a450c8e5525d330fa9cad35840307b31d">More...</a><br /></td></tr>
<tr class="separator:a450c8e5525d330fa9cad35840307b31d inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6f361426bb03378556446058db106fd inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#ae6f361426bb03378556446058db106fd">setImage</a> (const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *img, const <a class="el" href="classuriVL_1_1ImagePoint.html">ImagePoint</a> *matchPoint=NULL)</td></tr>
<tr class="memdesc:ae6f361426bb03378556446058db106fd inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to define the image used for subsequent covariance calculations.  <a href="#ae6f361426bb03378556446058db106fd">More...</a><br /></td></tr>
<tr class="separator:ae6f361426bb03378556446058db106fd inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ce4ead57cba2554608f47aee1f012a4 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a1ce4ead57cba2554608f47aee1f012a4">match</a> (const <a class="el" href="classuriVL_1_1Pattern2D.html">Pattern2D</a> *patternSought, const <a class="el" href="classuriVL_1_1ImageRect.html">ImageRect</a> *searchRect, const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *img)</td></tr>
<tr class="memdesc:a1ce4ead57cba2554608f47aee1f012a4 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html" title="Holds the records of a 2D matching result. ">Pattern2DMatchRecord</a> of the best match for a target pattern in an image.  <a href="#a1ce4ead57cba2554608f47aee1f012a4">More...</a><br /></td></tr>
<tr class="separator:a1ce4ead57cba2554608f47aee1f012a4 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a3d78f306cc7480f5ea40a2728daa6d inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a4a3d78f306cc7480f5ea40a2728daa6d">match</a> (const <a class="el" href="classuriVL_1_1Pattern2D.html">Pattern2D</a> *patternSought, const <a class="el" href="classuriVL_1_1ImageRect.html">ImageRect</a> *searchRect, const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *img, std::list&lt; <a class="el" href="classuriVL_1_1Blob.html">Blob</a> * &gt; *occluder)</td></tr>
<tr class="memdesc:a4a3d78f306cc7480f5ea40a2728daa6d inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html" title="Holds the records of a 2D matching result. ">Pattern2DMatchRecord</a> of the best match for a target pattern in an image.  <a href="#a4a3d78f306cc7480f5ea40a2728daa6d">More...</a><br /></td></tr>
<tr class="separator:a4a3d78f306cc7480f5ea40a2728daa6d inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a363e31e148ccbd37992bab8c6e4bfd17 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a363e31e148ccbd37992bab8c6e4bfd17">match</a> (const <a class="el" href="classuriVL_1_1Pattern2D.html">Pattern2D</a> *patternSought, const <a class="el" href="classuriVL_1_1ImageRect.html">ImageRect</a> *searchRect, const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *img, <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *matchRecord)</td></tr>
<tr class="memdesc:a363e31e148ccbd37992bab8c6e4bfd17 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html" title="Holds the records of a 2D matching result. ">Pattern2DMatchRecord</a> of the best match for a target pattern in an image.  <a href="#a363e31e148ccbd37992bab8c6e4bfd17">More...</a><br /></td></tr>
<tr class="separator:a363e31e148ccbd37992bab8c6e4bfd17 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa04c45afebea764bd15fa5e0db605073 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#aa04c45afebea764bd15fa5e0db605073">match</a> (const <a class="el" href="classuriVL_1_1Pattern2D.html">Pattern2D</a> *patternSought, const <a class="el" href="classuriVL_1_1ImageRect.html">ImageRect</a> *searchRect, const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *img, <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *matchRecord, std::list&lt; <a class="el" href="classuriVL_1_1Blob.html">Blob</a> * &gt; *occluder)</td></tr>
<tr class="memdesc:aa04c45afebea764bd15fa5e0db605073 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html" title="Holds the records of a 2D matching result. ">Pattern2DMatchRecord</a> of the best match for a target pattern in an image.  <a href="#aa04c45afebea764bd15fa5e0db605073">More...</a><br /></td></tr>
<tr class="separator:aa04c45afebea764bd15fa5e0db605073 inherit pub_methods_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af3d428d06df974a9337b866927d7f60c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af3d428d06df974a9337b866927d7f60c">match_</a> (const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *patImg, const <a class="el" href="classuriVL_1_1ImageRect.html">ImageRect</a> *searchRect, const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *img, <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *matchRecord)</td></tr>
<tr class="memdesc:af3d428d06df974a9337b866927d7f60c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the location and score of the best match for a target pattern in an rgba image.  <a href="#af3d428d06df974a9337b866927d7f60c">More...</a><br /></td></tr>
<tr class="separator:af3d428d06df974a9337b866927d7f60c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac42360db14c118423ebf92efa07cf89b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ac42360db14c118423ebf92efa07cf89b">match_</a> (const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *patImg, const <a class="el" href="classuriVL_1_1ImageRect.html">ImageRect</a> *searchRect, const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *img, <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *matchRecord)</td></tr>
<tr class="memdesc:ac42360db14c118423ebf92efa07cf89b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the location and score of the best match for a target pattern in a gray-level image.  <a href="#ac42360db14c118423ebf92efa07cf89b">More...</a><br /></td></tr>
<tr class="separator:ac42360db14c118423ebf92efa07cf89b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d1b0a2c482c89d0f0445f505e3097fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a0d1b0a2c482c89d0f0445f505e3097fa">match_</a> (const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *patImg, const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *patBlob, const <a class="el" href="classuriVL_1_1ImageRect.html">ImageRect</a> *searchRect, const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *img, <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *matchRecord)</td></tr>
<tr class="memdesc:a0d1b0a2c482c89d0f0445f505e3097fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the location and score of the best match for a target pattern in an rgba image.  <a href="#a0d1b0a2c482c89d0f0445f505e3097fa">More...</a><br /></td></tr>
<tr class="separator:a0d1b0a2c482c89d0f0445f505e3097fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1b443fcfeb36bc1b3c4f8ce6bf43adb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ad1b443fcfeb36bc1b3c4f8ce6bf43adb">match_</a> (const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *patImg, const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *patBlob, const <a class="el" href="classuriVL_1_1ImageRect.html">ImageRect</a> *searchRect, const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *img, <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *matchRecord)</td></tr>
<tr class="memdesc:ad1b443fcfeb36bc1b3c4f8ce6bf43adb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the location and score of the best match for a target pattern in a gray-level image.  <a href="#ad1b443fcfeb36bc1b3c4f8ce6bf43adb">More...</a><br /></td></tr>
<tr class="separator:ad1b443fcfeb36bc1b3c4f8ce6bf43adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a655814ae536ac8de312360bcd51bbcee"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a655814ae536ac8de312360bcd51bbcee">patBlob_</a></td></tr>
<tr class="memdesc:a655814ae536ac8de312360bcd51bbcee"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classuriVL_1_1Blob.html" title="XPair is used in fillHoles(), indicating each covered segment upstairs/downstairs for each line of Ho...">Blob</a> information of the pattern we are seeking.  <a href="#a655814ae536ac8de312360bcd51bbcee">More...</a><br /></td></tr>
<tr class="separator:a655814ae536ac8de312360bcd51bbcee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae62aa157adaf56008a419d83a1de377d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aa">BaseRasterType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ae62aa157adaf56008a419d83a1de377d">patRasterType_</a></td></tr>
<tr class="memdesc:ae62aa157adaf56008a419d83a1de377d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raster type of the pattern sought.  <a href="#ae62aa157adaf56008a419d83a1de377d">More...</a><br /></td></tr>
<tr class="separator:ae62aa157adaf56008a419d83a1de377d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef0bd7f0cb4a08b0c01c9be9e7dd826"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2ef0bd7f0cb4a08b0c01c9be9e7dd826">patImg_</a></td></tr>
<tr class="memdesc:a2ef0bd7f0cb4a08b0c01c9be9e7dd826"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the pattern's raster.  <a href="#a2ef0bd7f0cb4a08b0c01c9be9e7dd826">More...</a><br /></td></tr>
<tr class="separator:a2ef0bd7f0cb4a08b0c01c9be9e7dd826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f0caea6f6a58b104fe29086c55aa297"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a9f0caea6f6a58b104fe29086c55aa297">img_</a></td></tr>
<tr class="memdesc:a9f0caea6f6a58b104fe29086c55aa297"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the search image's raster.  <a href="#a9f0caea6f6a58b104fe29086c55aa297">More...</a><br /></td></tr>
<tr class="separator:a9f0caea6f6a58b104fe29086c55aa297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b7d0d9b09ed77af554d3d263a04f139"><td class="memItemLeft" align="right" valign="top">float **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a9b7d0d9b09ed77af554d3d263a04f139">grayPat_</a></td></tr>
<tr class="memdesc:a9b7d0d9b09ed77af554d3d263a04f139"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy of a gray-level pattern's raster  <a href="#a9b7d0d9b09ed77af554d3d263a04f139">More...</a><br /></td></tr>
<tr class="separator:a9b7d0d9b09ed77af554d3d263a04f139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af97ec824b3afcac986c22a89ece622ef"><td class="memItemLeft" align="right" valign="top">float **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af97ec824b3afcac986c22a89ece622ef">grayImg_</a></td></tr>
<tr class="memdesc:af97ec824b3afcac986c22a89ece622ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy of a gray-level image region's raster  <a href="#af97ec824b3afcac986c22a89ece622ef">More...</a><br /></td></tr>
<tr class="separator:af97ec824b3afcac986c22a89ece622ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb1eee81e0dae704e7c4723c5aa7bde"><td class="memItemLeft" align="right" valign="top">float ***&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a></td></tr>
<tr class="memdesc:a2fb1eee81e0dae704e7c4723c5aa7bde"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy of a color rgba pattern's raster  <a href="#a2fb1eee81e0dae704e7c4723c5aa7bde">More...</a><br /></td></tr>
<tr class="separator:a2fb1eee81e0dae704e7c4723c5aa7bde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94ea27f6aaac9df01375687f7f0f1cb7"><td class="memItemLeft" align="right" valign="top">float ***&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">rgbaImg_</a></td></tr>
<tr class="memdesc:a94ea27f6aaac9df01375687f7f0f1cb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy of a color rgba image region's raster  <a href="#a94ea27f6aaac9df01375687f7f0f1cb7">More...</a><br /></td></tr>
<tr class="separator:a94ea27f6aaac9df01375687f7f0f1cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a738a5f4c695a9c476c32c18981f3db13"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a></td></tr>
<tr class="memdesc:a738a5f4c695a9c476c32c18981f3db13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expected value(s) of the pattern raster.  <a href="#a738a5f4c695a9c476c32c18981f3db13">More...</a><br /></td></tr>
<tr class="separator:a738a5f4c695a9c476c32c18981f3db13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d9a842b56a15c407e97f1cbb7995d6f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a></td></tr>
<tr class="memdesc:a3d9a842b56a15c407e97f1cbb7995d6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Width of the temporary rasters currently alocated.  <a href="#a3d9a842b56a15c407e97f1cbb7995d6f">More...</a><br /></td></tr>
<tr class="separator:a3d9a842b56a15c407e97f1cbb7995d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8f7db12f2a541d603e3964415a4ae09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a></td></tr>
<tr class="memdesc:af8f7db12f2a541d603e3964415a4ae09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Height of the temporary rasters currently alocated.  <a href="#af8f7db12f2a541d603e3964415a4ae09">More...</a><br /></td></tr>
<tr class="separator:af8f7db12f2a541d603e3964415a4ae09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classuriVL_1_1PatternMatcher2D"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classuriVL_1_1PatternMatcher2D')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classuriVL_1_1PatternMatcher2D.html">uriVL::PatternMatcher2D</a></td></tr>
<tr class="memitem:a91739876d8bc7b8a0f8236bcc33f611e inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceuriVL.html#ae7201d968d3ee314b67cbccbc0a5c8c0">BasePatternMatcher2DType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a91739876d8bc7b8a0f8236bcc33f611e">baseMatcherType_</a></td></tr>
<tr class="memdesc:a91739876d8bc7b8a0f8236bcc33f611e inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the matcher is one of the basic types, indicates which.  <a href="#a91739876d8bc7b8a0f8236bcc33f611e">More...</a><br /></td></tr>
<tr class="separator:a91739876d8bc7b8a0f8236bcc33f611e inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f3194504ed5f39873618dd97a002e05 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a3f3194504ed5f39873618dd97a002e05">isSubpixelMatcher_</a></td></tr>
<tr class="memdesc:a3f3194504ed5f39873618dd97a002e05 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether the matcher returns an integer of floating point (subpixel) best match.  <a href="#a3f3194504ed5f39873618dd97a002e05">More...</a><br /></td></tr>
<tr class="separator:a3f3194504ed5f39873618dd97a002e05 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaed7d10f1d69dde3b36a46ffb18de48 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#aaaed7d10f1d69dde3b36a46ffb18de48">patBlob_</a></td></tr>
<tr class="memdesc:aaaed7d10f1d69dde3b36a46ffb18de48 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classuriVL_1_1Blob.html" title="XPair is used in fillHoles(), indicating each covered segment upstairs/downstairs for each line of Ho...">Blob</a> information of the pattern we are seeking.  <a href="#aaaed7d10f1d69dde3b36a46ffb18de48">More...</a><br /></td></tr>
<tr class="separator:aaaed7d10f1d69dde3b36a46ffb18de48 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af192878718bfc470af7a6df3218745f4 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aa">BaseRasterType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#af192878718bfc470af7a6df3218745f4">patRasterType_</a></td></tr>
<tr class="memdesc:af192878718bfc470af7a6df3218745f4 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raster type of the pattern sought.  <a href="#af192878718bfc470af7a6df3218745f4">More...</a><br /></td></tr>
<tr class="separator:af192878718bfc470af7a6df3218745f4 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac890d48b468c105bd7492d808dbe2209 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#ac890d48b468c105bd7492d808dbe2209">patImg_</a></td></tr>
<tr class="memdesc:ac890d48b468c105bd7492d808dbe2209 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the pattern's raster.  <a href="#ac890d48b468c105bd7492d808dbe2209">More...</a><br /></td></tr>
<tr class="separator:ac890d48b468c105bd7492d808dbe2209 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78fe3dda5079466d74edb7246077e5eb inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a78fe3dda5079466d74edb7246077e5eb">img_</a></td></tr>
<tr class="memdesc:a78fe3dda5079466d74edb7246077e5eb inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the search image's raster.  <a href="#a78fe3dda5079466d74edb7246077e5eb">More...</a><br /></td></tr>
<tr class="separator:a78fe3dda5079466d74edb7246077e5eb inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ebbbba3cf821e97f5f2dd05ebdb9b7 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">float **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a19ebbbba3cf821e97f5f2dd05ebdb9b7">grayPat_</a></td></tr>
<tr class="memdesc:a19ebbbba3cf821e97f5f2dd05ebdb9b7 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy of a gray-level pattern's raster  <a href="#a19ebbbba3cf821e97f5f2dd05ebdb9b7">More...</a><br /></td></tr>
<tr class="separator:a19ebbbba3cf821e97f5f2dd05ebdb9b7 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57de0428300c7307dc02a268dc71b237 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">float **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a57de0428300c7307dc02a268dc71b237">grayImg_</a></td></tr>
<tr class="memdesc:a57de0428300c7307dc02a268dc71b237 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy of a gray-level image region's raster  <a href="#a57de0428300c7307dc02a268dc71b237">More...</a><br /></td></tr>
<tr class="separator:a57de0428300c7307dc02a268dc71b237 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b51aa4bca93b8ff20be38c4c856dc44 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">float ***&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a9b51aa4bca93b8ff20be38c4c856dc44">rgbaPat_</a></td></tr>
<tr class="memdesc:a9b51aa4bca93b8ff20be38c4c856dc44 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy of a color rgba pattern's raster  <a href="#a9b51aa4bca93b8ff20be38c4c856dc44">More...</a><br /></td></tr>
<tr class="separator:a9b51aa4bca93b8ff20be38c4c856dc44 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f85de3265d97bbf6c13e9a53fc983e inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">float ***&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#aa0f85de3265d97bbf6c13e9a53fc983e">rgbaImg_</a></td></tr>
<tr class="memdesc:aa0f85de3265d97bbf6c13e9a53fc983e inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy of a color rgba image region's raster  <a href="#aa0f85de3265d97bbf6c13e9a53fc983e">More...</a><br /></td></tr>
<tr class="separator:aa0f85de3265d97bbf6c13e9a53fc983e inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f96fae6655b0ef089de23888ba45149 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">unsigned char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">patMask_</a></td></tr>
<tr class="memdesc:a6f96fae6655b0ef089de23888ba45149 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">mask corresponding to the part of the pattern's bounding box to be used for matching calculations.  <a href="#a6f96fae6655b0ef089de23888ba45149">More...</a><br /></td></tr>
<tr class="separator:a6f96fae6655b0ef089de23888ba45149 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cf3cf7fd05aecf8cc106a491a0a20ac inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a7cf3cf7fd05aecf8cc106a491a0a20ac">patWidth_</a></td></tr>
<tr class="memdesc:a7cf3cf7fd05aecf8cc106a491a0a20ac inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">Width of the temporary rasters currently alocated.  <a href="#a7cf3cf7fd05aecf8cc106a491a0a20ac">More...</a><br /></td></tr>
<tr class="separator:a7cf3cf7fd05aecf8cc106a491a0a20ac inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df1dbc58a14c43c5263cb6be831d1c2 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D.html#a5df1dbc58a14c43c5263cb6be831d1c2">patHeight_</a></td></tr>
<tr class="memdesc:a5df1dbc58a14c43c5263cb6be831d1c2 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="mdescLeft">&#160;</td><td class="mdescRight">Height of the temporary rasters currently alocated.  <a href="#a5df1dbc58a14c43c5263cb6be831d1c2">More...</a><br /></td></tr>
<tr class="separator:a5df1dbc58a14c43c5263cb6be831d1c2 inherit pro_attribs_classuriVL_1_1PatternMatcher2D"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a523071020c94f183d8ba373a3fab4d50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a523071020c94f183d8ba373a3fab4d50">covarianceRGBa_</a> (const unsigned char *const *rgbaImg, int x, int y, float *cov, float *corrScale)</td></tr>
<tr class="memdesc:a523071020c94f183d8ba373a3fab4d50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the correlation score between a rectangular pattern and an image at the location indicated.  <a href="#a523071020c94f183d8ba373a3fab4d50">More...</a><br /></td></tr>
<tr class="separator:a523071020c94f183d8ba373a3fab4d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49e7f77112c2360ae33fc7196633690"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af49e7f77112c2360ae33fc7196633690">covarianceGray_</a> (const unsigned char *const *<a class="el" href="movieProcessing__main_8cpp.html#a70c4105fe7f14b6ea512c58b11e486c2">grayImg</a>, int x, int y, float *cov, float *corrScale)</td></tr>
<tr class="memdesc:af49e7f77112c2360ae33fc7196633690"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the correlation score between a rectangular pattern and an image at the location indicated.  <a href="#af49e7f77112c2360ae33fc7196633690">More...</a><br /></td></tr>
<tr class="separator:af49e7f77112c2360ae33fc7196633690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a834bb2d3f20a2cbec8cc1de936fa694d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a834bb2d3f20a2cbec8cc1de936fa694d">covarianceRGBaBlob_</a> (const unsigned char *const *rgbaImg, int x, int y, float *cov, float *corrScale)</td></tr>
<tr class="memdesc:a834bb2d3f20a2cbec8cc1de936fa694d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the correlation score between a blob pattern and an image at the location indicated.  <a href="#a834bb2d3f20a2cbec8cc1de936fa694d">More...</a><br /></td></tr>
<tr class="separator:a834bb2d3f20a2cbec8cc1de936fa694d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528239ef8a365d5d0883787b7537647c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a528239ef8a365d5d0883787b7537647c">covarianceGrayBlob_</a> (const unsigned char *const *<a class="el" href="movieProcessing__main_8cpp.html#a70c4105fe7f14b6ea512c58b11e486c2">grayImg</a>, int x, int y, float *cov, float *corrScale)</td></tr>
<tr class="memdesc:a528239ef8a365d5d0883787b7537647c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the correlation score between a blob pattern and an image at the location indicated.  <a href="#a528239ef8a365d5d0883787b7537647c">More...</a><br /></td></tr>
<tr class="separator:a528239ef8a365d5d0883787b7537647c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a197f4bd3c365d017f8bfe48c84877562"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">patternCorrScale_</a> (const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *patImg, float *patCorrScale)</td></tr>
<tr class="memdesc:a197f4bd3c365d017f8bfe48c84877562"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the correlation scaling factor and expected color intensity values for the pattern.  <a href="#a197f4bd3c365d017f8bfe48c84877562">More...</a><br /></td></tr>
<tr class="separator:a197f4bd3c365d017f8bfe48c84877562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af895cc020a26659ae6b40a6924fefa77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af895cc020a26659ae6b40a6924fefa77">patternCorrScale_</a> (const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *patImg, float *patCorrScale)</td></tr>
<tr class="memdesc:af895cc020a26659ae6b40a6924fefa77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the correlation scaling factor and expected gray intensity value for the pattern.  <a href="#af895cc020a26659ae6b40a6924fefa77">More...</a><br /></td></tr>
<tr class="separator:af895cc020a26659ae6b40a6924fefa77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a527e419ab63b477a1d4eb7e3c2587dc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a527e419ab63b477a1d4eb7e3c2587dc3">patternCorrScale_</a> (const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *patImg, const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *patBlob, float *patCorrScale)</td></tr>
<tr class="memdesc:a527e419ab63b477a1d4eb7e3c2587dc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the correlation scaling factor and expected color intensity values for the pattern.  <a href="#a527e419ab63b477a1d4eb7e3c2587dc3">More...</a><br /></td></tr>
<tr class="separator:a527e419ab63b477a1d4eb7e3c2587dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f820c928e2c35379c137fa59436a19a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a0f820c928e2c35379c137fa59436a19a">patternCorrScale_</a> (const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *patImg, const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *patBlob, float *patCorrScale)</td></tr>
<tr class="memdesc:a0f820c928e2c35379c137fa59436a19a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the correlation scaling factor and expected gray intensity value for the pattern.  <a href="#a0f820c928e2c35379c137fa59436a19a">More...</a><br /></td></tr>
<tr class="separator:a0f820c928e2c35379c137fa59436a19a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0356d3dea5e8e5f0894b0c0a30d9d1de"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a0356d3dea5e8e5f0894b0c0a30d9d1de">isProperMatchRecordType_</a> (const <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *matchRecord) const </td></tr>
<tr class="memdesc:a0356d3dea5e8e5f0894b0c0a30d9d1de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html" title="Holds the records of a 2D matching result. ">Pattern2DMatchRecord</a> sent has the proper subtype for the matcher.  <a href="#a0356d3dea5e8e5f0894b0c0a30d9d1de">More...</a><br /></td></tr>
<tr class="separator:a0356d3dea5e8e5f0894b0c0a30d9d1de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac31bba0de324a2bd7c2d774b45fb43ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ac31bba0de324a2bd7c2d774b45fb43ee">newPattern2DMatchRecord_</a> (void)</td></tr>
<tr class="memdesc:ac31bba0de324a2bd7c2d774b45fb43ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html" title="Holds the records of a 2D matching result. ">Pattern2DMatchRecord</a> that has the proper subtype for the matcher.  <a href="#ac31bba0de324a2bd7c2d774b45fb43ee">More...</a><br /></td></tr>
<tr class="separator:ac31bba0de324a2bd7c2d774b45fb43ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b96745b7723e860f44b508c094b6b9a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a0b96745b7723e860f44b508c094b6b9a">allocateRasters_</a> (const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *patImg, const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *patBlob)</td></tr>
<tr class="memdesc:a0b96745b7723e860f44b508c094b6b9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates private computation rasters for the pattern and the image.  <a href="#a0b96745b7723e860f44b508c094b6b9a">More...</a><br /></td></tr>
<tr class="separator:a0b96745b7723e860f44b508c094b6b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a554120eaae95342c85a3afc55cb62b65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a554120eaae95342c85a3afc55cb62b65">deleteRasters_</a> (void)</td></tr>
<tr class="memdesc:a554120eaae95342c85a3afc55cb62b65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the private computation rasters.  <a href="#a554120eaae95342c85a3afc55cb62b65">More...</a><br /></td></tr>
<tr class="separator:a554120eaae95342c85a3afc55cb62b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>One of the simplest possible subclasses of <a class="el" href="classuriVL_1_1PatternMatcher2D.html" title="Parent class for all 2D pattern matchers. ">PatternMatcher2D</a>. </p>
<p>Selects the best match based on the correlation coefficient of the pattern and of the image </p><dl class="section author"><dt>Author</dt><dd>jean-yves herve', 3D Group, Department of Computer Science and Statistics, University of Rhode Island </dd></dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00038">38</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html">PatternMatcher2D_scaledDiff.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad25dca416eb0f81f077ac1f6cb34b364"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PatternMatcher2D_scaledDiff::PatternMatcher2D_scaledDiff </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>
<p>This constructor does not allocate temporary storage rasters. </p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00027">27</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="PatternMatcher2D_8h_source.html#l00197">uriVL::PatternMatcher2D::baseMatcherType_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00180">grayImg_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00176">grayPat_</a>, <a class="el" href="PatternMatcher2D_8h_source.html#l00203">uriVL::PatternMatcher2D::isSubpixelMatcher_</a>, <a class="el" href="GraphWorld_8h_source.html#l00031">uriVL::kUndefRasterType</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00160">patBlob_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">patHeight_</a>, <a class="el" href="PatternMatcher2D_8h_source.html#l00243">uriVL::PatternMatcher2D::patMask_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00164">patRasterType_</a>, <a class="el" href="PatternMatcher2D_8h_source.html#l00038">uriVL::PATTERN_MATCHER_2D_CORR</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">patWidth_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00188">rgbaImg_</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00184">rgbaPat_</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    :   <a class="code" href="classuriVL_1_1PatternMatcher2D.html#ac0e1b03872b5a3d60db0bd4bf7943835">PatternMatcher2D</a>( )</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D.html#a3f3194504ed5f39873618dd97a002e05">isSubpixelMatcher_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a9b7d0d9b09ed77af554d3d263a04f139">grayPat_</a> = <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af97ec824b3afcac986c22a89ece622ef">grayImg_</a> = NULL;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a> = <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">rgbaImg_</a> = NULL;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a655814ae536ac8de312360bcd51bbcee">patBlob_</a> = NULL;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">patMask_</a> = NULL;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a> = <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a> = -1;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ae62aa157adaf56008a419d83a1de377d">patRasterType_</a> = <a class="code" href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aaaf65b59834577d2e05d7fcad9de0d8428">kUndefRasterType</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D.html#a91739876d8bc7b8a0f8236bcc33f611e">baseMatcherType_</a> = <a class="code" href="namespaceuriVL.html#ae7201d968d3ee314b67cbccbc0a5c8c0a47a4a86912833a16e22b440eeec74a8e">PATTERN_MATCHER_2D_CORR</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af8f7db12f2a541d603e3964415a4ae09"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">uriVL::PatternMatcher2D_scaledDiff::patHeight_</a></div><div class="ttdeci">int patHeight_</div><div class="ttdoc">Height of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">PatternMatcher2D_scaledDiff.h:201</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a655814ae536ac8de312360bcd51bbcee"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a655814ae536ac8de312360bcd51bbcee">uriVL::PatternMatcher2D_scaledDiff::patBlob_</a></div><div class="ttdeci">const Blob * patBlob_</div><div class="ttdoc">Blob information of the pattern we are seeking. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00160">PatternMatcher2D_scaledDiff.h:160</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a2fb1eee81e0dae704e7c4723c5aa7bde"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">uriVL::PatternMatcher2D_scaledDiff::rgbaPat_</a></div><div class="ttdeci">float *** rgbaPat_</div><div class="ttdoc">copy of a color rgba pattern&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00184">PatternMatcher2D_scaledDiff.h:184</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D_html_a91739876d8bc7b8a0f8236bcc33f611e"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D.html#a91739876d8bc7b8a0f8236bcc33f611e">uriVL::PatternMatcher2D::baseMatcherType_</a></div><div class="ttdeci">BasePatternMatcher2DType baseMatcherType_</div><div class="ttdoc">If the matcher is one of the basic types, indicates which. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D_8h_source.html#l00197">PatternMatcher2D.h:197</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D_html_a6f96fae6655b0ef089de23888ba45149"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">uriVL::PatternMatcher2D::patMask_</a></div><div class="ttdeci">unsigned char ** patMask_</div><div class="ttdoc">mask corresponding to the part of the pattern&#39;s bounding box to be used for matching calculations...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D_8h_source.html#l00243">PatternMatcher2D.h:243</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_ae62aa157adaf56008a419d83a1de377d"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ae62aa157adaf56008a419d83a1de377d">uriVL::PatternMatcher2D_scaledDiff::patRasterType_</a></div><div class="ttdeci">BaseRasterType patRasterType_</div><div class="ttdoc">Raster type of the pattern sought. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00164">PatternMatcher2D_scaledDiff.h:164</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a9b7d0d9b09ed77af554d3d263a04f139"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a9b7d0d9b09ed77af554d3d263a04f139">uriVL::PatternMatcher2D_scaledDiff::grayPat_</a></div><div class="ttdeci">float ** grayPat_</div><div class="ttdoc">copy of a gray-level pattern&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00176">PatternMatcher2D_scaledDiff.h:176</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D_html_a3f3194504ed5f39873618dd97a002e05"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D.html#a3f3194504ed5f39873618dd97a002e05">uriVL::PatternMatcher2D::isSubpixelMatcher_</a></div><div class="ttdeci">bool isSubpixelMatcher_</div><div class="ttdoc">Indicates whether the matcher returns an integer of floating point (subpixel) best match...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D_8h_source.html#l00203">PatternMatcher2D.h:203</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D_html_ac0e1b03872b5a3d60db0bd4bf7943835"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D.html#ac0e1b03872b5a3d60db0bd4bf7943835">uriVL::PatternMatcher2D::PatternMatcher2D</a></div><div class="ttdeci">PatternMatcher2D(void)</div><div class="ttdoc">Default constructor. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D_8cpp_source.html#l00028">PatternMatcher2D.cpp:28</a></div></div>
<div class="ttc" id="namespaceuriVL_html_ae611f1f5355c2cf1b01aabe41595b0aaaf65b59834577d2e05d7fcad9de0d8428"><div class="ttname"><a href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aaaf65b59834577d2e05d7fcad9de0d8428">uriVL::kUndefRasterType</a></div><div class="ttdef"><b>Definition:</b> <a href="GraphWorld_8h_source.html#l00031">GraphWorld.h:31</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af97ec824b3afcac986c22a89ece622ef"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af97ec824b3afcac986c22a89ece622ef">uriVL::PatternMatcher2D_scaledDiff::grayImg_</a></div><div class="ttdeci">float ** grayImg_</div><div class="ttdoc">copy of a gray-level image region&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00180">PatternMatcher2D_scaledDiff.h:180</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a94ea27f6aaac9df01375687f7f0f1cb7"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">uriVL::PatternMatcher2D_scaledDiff::rgbaImg_</a></div><div class="ttdeci">float *** rgbaImg_</div><div class="ttdoc">copy of a color rgba image region&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00188">PatternMatcher2D_scaledDiff.h:188</a></div></div>
<div class="ttc" id="namespaceuriVL_html_ae7201d968d3ee314b67cbccbc0a5c8c0a47a4a86912833a16e22b440eeec74a8e"><div class="ttname"><a href="namespaceuriVL.html#ae7201d968d3ee314b67cbccbc0a5c8c0a47a4a86912833a16e22b440eeec74a8e">uriVL::PATTERN_MATCHER_2D_CORR</a></div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D_8h_source.html#l00038">PatternMatcher2D.h:38</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a3d9a842b56a15c407e97f1cbb7995d6f"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">uriVL::PatternMatcher2D_scaledDiff::patWidth_</a></div><div class="ttdeci">int patWidth_</div><div class="ttdoc">Width of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">PatternMatcher2D_scaledDiff.h:197</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a613e2795998155d49e8d14e7d40db111"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PatternMatcher2D_scaledDiff::~PatternMatcher2D_scaledDiff </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>Does nothing </p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00042">42</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00835">deleteRasters_()</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a554120eaae95342c85a3afc55cb62b65">deleteRasters_</a>();</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a554120eaae95342c85a3afc55cb62b65"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a554120eaae95342c85a3afc55cb62b65">uriVL::PatternMatcher2D_scaledDiff::deleteRasters_</a></div><div class="ttdeci">void deleteRasters_(void)</div><div class="ttdoc">Deletes the private computation rasters. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00835">PatternMatcher2D_scaledDiff.cpp:835</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_a613e2795998155d49e8d14e7d40db111_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_a613e2795998155d49e8d14e7d40db111_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_a613e2795998155d49e8d14e7d40db111_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_a613e2795998155d49e8d14e7d40db111_cgraph">
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0b96745b7723e860f44b508c094b6b9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::allocateRasters_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *&#160;</td>
          <td class="paramname"><em>patImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *&#160;</td>
          <td class="paramname"><em>patBlob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates private computation rasters for the pattern and the image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patImg</td><td>pointer to the pattern's image to allocate rasters for </td></tr>
    <tr><td class="paramname">patBlob</td><td>pointer to the pattern's blob (possibly NULL) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classuriVL_1_1PatternMatcher2D.html#a6c6b35d60b4459a00e53e8efe9a39cd8">uriVL::PatternMatcher2D</a>.</p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00843">843</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="PatternMatcher2D_8cpp_source.html#l00281">uriVL::PatternMatcher2D::allocateRasters_()</a>, <a class="el" href="classuriVL_1_1RasterImage.html#a68815937f6a787e4541a33b108198baf">uriVL::RasterImage::getBaseRasterType()</a>, <a class="el" href="DrawableObject2D_8cpp_source.html#l00537">uriVL::DrawableObject2D::getHeight()</a>, <a class="el" href="DrawableObject2D_8cpp_source.html#l00542">uriVL::DrawableObject2D::getWidth()</a>, <a class="el" href="GraphWorld_8h_source.html#l00033">uriVL::kGrayRaster</a>, <a class="el" href="GraphWorld_8h_source.html#l00038">uriVL::kRGBa32Raster</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00193">patExp_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">patHeight_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00164">patRasterType_</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">patWidth_</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00059">setPattern()</a>.</p>
<div class="fragment"><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;{</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordtype">int</span> patWidth = patImg-&gt;<a class="code" href="classuriVL_1_1DrawableObject2D.html#a01127dbd10a99cdbb7596e48539068c9">getWidth</a>(),</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        patHeight = patImg-&gt;<a class="code" href="classuriVL_1_1DrawableObject2D.html#a0fa48af9667c5a4b53bd2a9bf0eea240">getHeight</a>();</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <a class="code" href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aa">BaseRasterType</a>  rasterType = patImg-&gt;<a class="code" href="classuriVL_1_1RasterImage.html#a68815937f6a787e4541a33b108198baf">getBaseRasterType</a>();</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordtype">bool</span>    mustReallocPatExp = (rasterType!=<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ae62aa157adaf56008a419d83a1de377d">patRasterType_</a>) || </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                                (patWidth&gt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>) || </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                                (patHeight&gt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D.html#a6c6b35d60b4459a00e53e8efe9a39cd8">PatternMatcher2D::allocateRasters_</a>(patImg, patBlob);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">if</span> ( mustReallocPatExp )</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <span class="keywordflow">switch</span> (rasterType)</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aaa4b34cd60ea999c3ceb9a7525440f8c78">kGrayRaster</a>:</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a> = <span class="keyword">new</span> <span class="keywordtype">float</span>[1];</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aaa57d691eb26e9682b81292d38e6bcae60">kRGBa32Raster</a>:</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a> = <span class="keyword">new</span> <span class="keywordtype">float</span>[3];</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a738a5f4c695a9c476c32c18981f3db13"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">uriVL::PatternMatcher2D_scaledDiff::patExp_</a></div><div class="ttdeci">float * patExp_</div><div class="ttdoc">Expected value(s) of the pattern raster. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00193">PatternMatcher2D_scaledDiff.h:193</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af8f7db12f2a541d603e3964415a4ae09"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">uriVL::PatternMatcher2D_scaledDiff::patHeight_</a></div><div class="ttdeci">int patHeight_</div><div class="ttdoc">Height of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">PatternMatcher2D_scaledDiff.h:201</a></div></div>
<div class="ttc" id="classuriVL_1_1DrawableObject2D_html_a01127dbd10a99cdbb7596e48539068c9"><div class="ttname"><a href="classuriVL_1_1DrawableObject2D.html#a01127dbd10a99cdbb7596e48539068c9">uriVL::DrawableObject2D::getWidth</a></div><div class="ttdeci">virtual int getWidth(void) const </div><div class="ttdoc">Returns the number of columns for the image. </div><div class="ttdef"><b>Definition:</b> <a href="DrawableObject2D_8cpp_source.html#l00542">DrawableObject2D.cpp:542</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_ae62aa157adaf56008a419d83a1de377d"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ae62aa157adaf56008a419d83a1de377d">uriVL::PatternMatcher2D_scaledDiff::patRasterType_</a></div><div class="ttdeci">BaseRasterType patRasterType_</div><div class="ttdoc">Raster type of the pattern sought. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00164">PatternMatcher2D_scaledDiff.h:164</a></div></div>
<div class="ttc" id="namespaceuriVL_html_ae611f1f5355c2cf1b01aabe41595b0aaa4b34cd60ea999c3ceb9a7525440f8c78"><div class="ttname"><a href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aaa4b34cd60ea999c3ceb9a7525440f8c78">uriVL::kGrayRaster</a></div><div class="ttdef"><b>Definition:</b> <a href="GraphWorld_8h_source.html#l00033">GraphWorld.h:33</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D_html_a6c6b35d60b4459a00e53e8efe9a39cd8"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D.html#a6c6b35d60b4459a00e53e8efe9a39cd8">uriVL::PatternMatcher2D::allocateRasters_</a></div><div class="ttdeci">virtual void allocateRasters_(const RasterImage *patImg, const Blob *patBlob)</div><div class="ttdoc">Allocates private computation rasters for the pattern and the image. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D_8cpp_source.html#l00281">PatternMatcher2D.cpp:281</a></div></div>
<div class="ttc" id="namespaceuriVL_html_ae611f1f5355c2cf1b01aabe41595b0aaa57d691eb26e9682b81292d38e6bcae60"><div class="ttname"><a href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aaa57d691eb26e9682b81292d38e6bcae60">uriVL::kRGBa32Raster</a></div><div class="ttdoc">32 bits per pixel color (8r-8g-8b-8a) </div><div class="ttdef"><b>Definition:</b> <a href="GraphWorld_8h_source.html#l00038">GraphWorld.h:38</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a3d9a842b56a15c407e97f1cbb7995d6f"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">uriVL::PatternMatcher2D_scaledDiff::patWidth_</a></div><div class="ttdeci">int patWidth_</div><div class="ttdoc">Width of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">PatternMatcher2D_scaledDiff.h:197</a></div></div>
<div class="ttc" id="namespaceuriVL_html_ae611f1f5355c2cf1b01aabe41595b0aa"><div class="ttname"><a href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aa">uriVL::BaseRasterType</a></div><div class="ttdeci">BaseRasterType</div><div class="ttdoc">Enumerates the base image raster types. </div><div class="ttdef"><b>Definition:</b> <a href="GraphWorld_8h_source.html#l00030">GraphWorld.h:30</a></div></div>
<div class="ttc" id="classuriVL_1_1RasterImage_html_a68815937f6a787e4541a33b108198baf"><div class="ttname"><a href="classuriVL_1_1RasterImage.html#a68815937f6a787e4541a33b108198baf">uriVL::RasterImage::getBaseRasterType</a></div><div class="ttdeci">virtual BaseRasterType getBaseRasterType(void) const =0</div><div class="ttdoc">Returns the image&#39;s base raster type. </div></div>
<div class="ttc" id="classuriVL_1_1DrawableObject2D_html_a0fa48af9667c5a4b53bd2a9bf0eea240"><div class="ttname"><a href="classuriVL_1_1DrawableObject2D.html#a0fa48af9667c5a4b53bd2a9bf0eea240">uriVL::DrawableObject2D::getHeight</a></div><div class="ttdeci">virtual int getHeight(void) const </div><div class="ttdoc">Returns the number of rows for the image. </div><div class="ttdef"><b>Definition:</b> <a href="DrawableObject2D_8cpp_source.html#l00537">DrawableObject2D.cpp:537</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_a0b96745b7723e860f44b508c094b6b9a_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_a0b96745b7723e860f44b508c094b6b9a_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_a0b96745b7723e860f44b508c094b6b9a_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_a0b96745b7723e860f44b508c094b6b9a_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae6ccb3bfd17ecaaea9c33795a577b248"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::covariance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>cov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>corrScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the correlation score between the pattern stored and an image at the location indicated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>the image in which to search for a best match </td></tr>
    <tr><td class="paramname">x</td><td>horizontal coordinate of where to compute a score </td></tr>
    <tr><td class="paramname">y</td><td>vertical coordinate of where to compute a score </td></tr>
    <tr><td class="paramname">cov</td><td>covariance of the two signals </td></tr>
    <tr><td class="paramname">corrScale</td><td>scaling factor for the image region. The covariance should be mutiplied by this number and by the scaling factor for the pattern returned by patternCorrScale </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00277">277</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00327">covarianceRGBa_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00428">covarianceRGBaBlob_()</a>, <a class="el" href="ErrorReport_8h_source.html#l00245">FAIL_CONDITION</a>, <a class="el" href="RasterImage__RGBa_8cpp_source.html#l00346">uriVL::RasterImage_RGBa::getShiftedRGBa2D()</a>, <a class="el" href="ErrorReport_8h_source.html#l00040">uriVL::kNullParameterError</a>, <a class="el" href="ErrorReport_8h_source.html#l00057">uriVL::kNullRasterImageError</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00160">patBlob_</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     cov == NULL,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">kNullParameterError</a>,</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    <span class="stringliteral">&quot;NULL covariance array sent to PatternMatcher2D_scaledDiff::covariance&quot;</span>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     corrScale == NULL,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">kNullParameterError</a>,</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    <span class="stringliteral">&quot;NULL correlation scale array sent to PatternMatcher2D_scaledDiff::covariance&quot;</span>);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     img == NULL,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6">kNullRasterImageError</a>,</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                    <span class="stringliteral">&quot;NULL raster image sent to PatternMatcher2D_scaledDiff::covariance&quot;</span>);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <span class="keyword">const</span>* rgbaImg = img-&gt;<a class="code" href="classuriVL_1_1RasterImage__RGBa.html#a24a7f4f38eb807261c7038759e756edf">getShiftedRGBa2D</a>();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a655814ae536ac8de312360bcd51bbcee">patBlob_</a>==NULL)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">//         ImageRect   *patRect = patImg_-&gt;getValidRect();   // unused variable -CJC</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a523071020c94f183d8ba373a3fab4d50">covarianceRGBa_</a>(rgbaImg, x, y, cov, corrScale);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a834bb2d3f20a2cbec8cc1de936fa694d">covarianceRGBaBlob_</a>(rgbaImg, x, y, cov, corrScale);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a655814ae536ac8de312360bcd51bbcee"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a655814ae536ac8de312360bcd51bbcee">uriVL::PatternMatcher2D_scaledDiff::patBlob_</a></div><div class="ttdeci">const Blob * patBlob_</div><div class="ttdoc">Blob information of the pattern we are seeking. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00160">PatternMatcher2D_scaledDiff.h:160</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a523071020c94f183d8ba373a3fab4d50"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a523071020c94f183d8ba373a3fab4d50">uriVL::PatternMatcher2D_scaledDiff::covarianceRGBa_</a></div><div class="ttdeci">void covarianceRGBa_(const unsigned char *const *rgbaImg, int x, int y, float *cov, float *corrScale)</div><div class="ttdoc">Computes the correlation score between a rectangular pattern and an image at the location indicated...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00327">PatternMatcher2D_scaledDiff.cpp:327</a></div></div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">uriVL::kNullParameterError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00040">ErrorReport.h:40</a></div></div>
<div class="ttc" id="classuriVL_1_1RasterImage__RGBa_html_a24a7f4f38eb807261c7038759e756edf"><div class="ttname"><a href="classuriVL_1_1RasterImage__RGBa.html#a24a7f4f38eb807261c7038759e756edf">uriVL::RasterImage_RGBa::getShiftedRGBa2D</a></div><div class="ttdeci">virtual const unsigned char *const * getShiftedRGBa2D(void) const </div><div class="ttdoc">Returns the shifted 32-bit rgba base raster as a read-only 2D array. </div><div class="ttdef"><b>Definition:</b> <a href="RasterImage__RGBa_8cpp_source.html#l00346">RasterImage_RGBa.cpp:346</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a834bb2d3f20a2cbec8cc1de936fa694d"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a834bb2d3f20a2cbec8cc1de936fa694d">uriVL::PatternMatcher2D_scaledDiff::covarianceRGBaBlob_</a></div><div class="ttdeci">void covarianceRGBaBlob_(const unsigned char *const *rgbaImg, int x, int y, float *cov, float *corrScale)</div><div class="ttdoc">Computes the correlation score between a blob pattern and an image at the location indicated...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00428">PatternMatcher2D_scaledDiff.cpp:428</a></div></div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6">uriVL::kNullRasterImageError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00057">ErrorReport.h:57</a></div></div>
<div class="ttc" id="ErrorReport_8h_html_aec1700420d31610bd52383237d0a2700"><div class="ttname"><a href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a></div><div class="ttdeci">#define FAIL_CONDITION(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00245">ErrorReport.h:245</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_ae6ccb3bfd17ecaaea9c33795a577b248_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_ae6ccb3bfd17ecaaea9c33795a577b248_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_ae6ccb3bfd17ecaaea9c33795a577b248_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_ae6ccb3bfd17ecaaea9c33795a577b248_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8aee5817685122731a386f6c2966559d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::covariance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>cov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>corrScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the correlation score between the pattern stored and an image at the location indicated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>the image in which to search for a best match </td></tr>
    <tr><td class="paramname">x</td><td>horizontal coordinate of where to compute a score </td></tr>
    <tr><td class="paramname">y</td><td>vertical coordinate of where to compute a score </td></tr>
    <tr><td class="paramname">cov</td><td>covariance of the two signals </td></tr>
    <tr><td class="paramname">corrScale</td><td>scaling factor for the image region. The covariance should be mutiplied by this number and by the scaling factor for the pattern returned by patternCorrScale </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00302">302</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00397">covarianceGray_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00523">covarianceGrayBlob_()</a>, <a class="el" href="ErrorReport_8h_source.html#l00245">FAIL_CONDITION</a>, <a class="el" href="RasterImage__gray_8cpp_source.html#l00359">uriVL::RasterImage_gray::getShiftedGray2D()</a>, <a class="el" href="movieProcessing__main_8cpp_source.html#l00162">grayImg</a>, <a class="el" href="ErrorReport_8h_source.html#l00040">uriVL::kNullParameterError</a>, <a class="el" href="ErrorReport_8h_source.html#l00057">uriVL::kNullRasterImageError</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00160">patBlob_</a>.</p>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     cov == NULL,</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">kNullParameterError</a>,</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    <span class="stringliteral">&quot;NULL covariance array sent to PatternMatcher2D_scaledDiff::covariance&quot;</span>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     corrScale == NULL,</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">kNullParameterError</a>,</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    <span class="stringliteral">&quot;NULL correlation scale array sent to PatternMatcher2D_scaledDiff::covariance&quot;</span>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     img == NULL,</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6">kNullRasterImageError</a>,</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    <span class="stringliteral">&quot;NULL raster image sent to PatternMatcher2D_scaledDiff::covariance&quot;</span>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <span class="keyword">const</span>* <a class="code" href="movieProcessing__main_8cpp.html#a70c4105fe7f14b6ea512c58b11e486c2">grayImg</a> = img-&gt;<a class="code" href="classuriVL_1_1RasterImage__gray.html#a837bf18ff95fcdd6268109f5aedb9dfa">getShiftedGray2D</a>();</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a655814ae536ac8de312360bcd51bbcee">patBlob_</a>==NULL)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">//         ImageRect   *patRect = patImg_-&gt;getValidRect(); // unused variable -CJC</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af49e7f77112c2360ae33fc7196633690">covarianceGray_</a>(grayImg, x, y, cov, corrScale);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a528239ef8a365d5d0883787b7537647c">covarianceGrayBlob_</a>(grayImg, x, y, cov, corrScale);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;}</div>
<div class="ttc" id="movieProcessing__main_8cpp_html_a70c4105fe7f14b6ea512c58b11e486c2"><div class="ttname"><a href="movieProcessing__main_8cpp.html#a70c4105fe7f14b6ea512c58b11e486c2">grayImg</a></div><div class="ttdeci">RasterImage_gray * grayImg</div><div class="ttdef"><b>Definition:</b> <a href="movieProcessing__main_8cpp_source.html#l00162">movieProcessing_main.cpp:162</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af49e7f77112c2360ae33fc7196633690"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af49e7f77112c2360ae33fc7196633690">uriVL::PatternMatcher2D_scaledDiff::covarianceGray_</a></div><div class="ttdeci">void covarianceGray_(const unsigned char *const *grayImg, int x, int y, float *cov, float *corrScale)</div><div class="ttdoc">Computes the correlation score between a rectangular pattern and an image at the location indicated...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00397">PatternMatcher2D_scaledDiff.cpp:397</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a655814ae536ac8de312360bcd51bbcee"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a655814ae536ac8de312360bcd51bbcee">uriVL::PatternMatcher2D_scaledDiff::patBlob_</a></div><div class="ttdeci">const Blob * patBlob_</div><div class="ttdoc">Blob information of the pattern we are seeking. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00160">PatternMatcher2D_scaledDiff.h:160</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a528239ef8a365d5d0883787b7537647c"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a528239ef8a365d5d0883787b7537647c">uriVL::PatternMatcher2D_scaledDiff::covarianceGrayBlob_</a></div><div class="ttdeci">void covarianceGrayBlob_(const unsigned char *const *grayImg, int x, int y, float *cov, float *corrScale)</div><div class="ttdoc">Computes the correlation score between a blob pattern and an image at the location indicated...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00523">PatternMatcher2D_scaledDiff.cpp:523</a></div></div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">uriVL::kNullParameterError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00040">ErrorReport.h:40</a></div></div>
<div class="ttc" id="classuriVL_1_1RasterImage__gray_html_a837bf18ff95fcdd6268109f5aedb9dfa"><div class="ttname"><a href="classuriVL_1_1RasterImage__gray.html#a837bf18ff95fcdd6268109f5aedb9dfa">uriVL::RasterImage_gray::getShiftedGray2D</a></div><div class="ttdeci">virtual const unsigned char *const * getShiftedGray2D(void) const </div><div class="ttdoc">Returns the shifted 8-bit gray-level base raster as a read-only 2D array. </div><div class="ttdef"><b>Definition:</b> <a href="RasterImage__gray_8cpp_source.html#l00359">RasterImage_gray.cpp:359</a></div></div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6">uriVL::kNullRasterImageError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00057">ErrorReport.h:57</a></div></div>
<div class="ttc" id="ErrorReport_8h_html_aec1700420d31610bd52383237d0a2700"><div class="ttname"><a href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a></div><div class="ttdeci">#define FAIL_CONDITION(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00245">ErrorReport.h:245</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_a8aee5817685122731a386f6c2966559d_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_a8aee5817685122731a386f6c2966559d_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_a8aee5817685122731a386f6c2966559d_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_a8aee5817685122731a386f6c2966559d_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af49e7f77112c2360ae33fc7196633690"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::covarianceGray_ </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *const *&#160;</td>
          <td class="paramname"><em>grayImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>cov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>corrScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the correlation score between a rectangular pattern and an image at the location indicated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patRows</td><td>height of the pattern </td></tr>
    <tr><td class="paramname">patCols</td><td>width of the pattern </td></tr>
    <tr><td class="paramname">grayImg</td><td>2D gray raster of the image in which to search for a best match </td></tr>
    <tr><td class="paramname">x</td><td>horizontal coordinate of where to compute a score </td></tr>
    <tr><td class="paramname">y</td><td>vertical coordinate of where to compute a score </td></tr>
    <tr><td class="paramname">cov</td><td>covariance of the two signals </td></tr>
    <tr><td class="paramname">corrScale</td><td>scaling factor for the image region. The covariance should be mutiplied by this number and by the scaling factor for the pattern returned by patternCorrScale </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00397">397</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00180">grayImg_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00176">grayPat_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">patHeight_</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">patWidth_</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00302">covariance()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00134">match_()</a>.</p>
<div class="fragment"><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span>   nbPatPixels = <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a> * <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> nbPixelsScale = 1.f / nbPatPixels;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">//  Part 1: Compute expected value and scaling factor for this part of the </span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">//          image</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordtype">float</span>   imgSum = 0, imgSumSq = 0, imgExp;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0, kI=y; kP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++, kI++)</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0, lI=x; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++, lI++)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            imgSum += (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af97ec824b3afcac986c22a89ece622ef">grayImg_</a>[kP][lP] = <a class="code" href="movieProcessing__main_8cpp.html#a70c4105fe7f14b6ea512c58b11e486c2">grayImg</a>[kI][lI]);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            imgSumSq += <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af97ec824b3afcac986c22a89ece622ef">grayImg_</a>[kP][lP]*<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af97ec824b3afcac986c22a89ece622ef">grayImg_</a>[kP][lP];</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    imgExp = imgSum * nbPixelsScale;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    *corrScale = 1.f / sqrtf(imgSumSq*nbPixelsScale - imgExp*imgExp);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="comment">//  Part 2: Now actually compute the covariance</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordtype">float</span> covSum = 0.f;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0; kP&lt; <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            covSum += <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a9b7d0d9b09ed77af554d3d263a04f139">grayPat_</a>[kP][lP] * (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af97ec824b3afcac986c22a89ece622ef">grayImg_</a>[kP][lP] - imgExp);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    *cov = covSum * nbPixelsScale;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div>
<div class="ttc" id="movieProcessing__main_8cpp_html_a70c4105fe7f14b6ea512c58b11e486c2"><div class="ttname"><a href="movieProcessing__main_8cpp.html#a70c4105fe7f14b6ea512c58b11e486c2">grayImg</a></div><div class="ttdeci">RasterImage_gray * grayImg</div><div class="ttdef"><b>Definition:</b> <a href="movieProcessing__main_8cpp_source.html#l00162">movieProcessing_main.cpp:162</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af8f7db12f2a541d603e3964415a4ae09"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">uriVL::PatternMatcher2D_scaledDiff::patHeight_</a></div><div class="ttdeci">int patHeight_</div><div class="ttdoc">Height of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">PatternMatcher2D_scaledDiff.h:201</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a9b7d0d9b09ed77af554d3d263a04f139"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a9b7d0d9b09ed77af554d3d263a04f139">uriVL::PatternMatcher2D_scaledDiff::grayPat_</a></div><div class="ttdeci">float ** grayPat_</div><div class="ttdoc">copy of a gray-level pattern&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00176">PatternMatcher2D_scaledDiff.h:176</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af97ec824b3afcac986c22a89ece622ef"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af97ec824b3afcac986c22a89ece622ef">uriVL::PatternMatcher2D_scaledDiff::grayImg_</a></div><div class="ttdeci">float ** grayImg_</div><div class="ttdoc">copy of a gray-level image region&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00180">PatternMatcher2D_scaledDiff.h:180</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a3d9a842b56a15c407e97f1cbb7995d6f"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">uriVL::PatternMatcher2D_scaledDiff::patWidth_</a></div><div class="ttdeci">int patWidth_</div><div class="ttdoc">Width of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">PatternMatcher2D_scaledDiff.h:197</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a528239ef8a365d5d0883787b7537647c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::covarianceGrayBlob_ </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *const *&#160;</td>
          <td class="paramname"><em>grayImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>cov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>corrScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the correlation score between a blob pattern and an image at the location indicated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">grayImg</td><td>2D gray raster of the image in which to search for a best match </td></tr>
    <tr><td class="paramname">x</td><td>horizontal coordinate of where to compute a score </td></tr>
    <tr><td class="paramname">y</td><td>vertical coordinate of where to compute a score </td></tr>
    <tr><td class="paramname">cov</td><td>covariance of the two signals </td></tr>
    <tr><td class="paramname">corrScale</td><td>scaling factor for the image region. The covariance should be mutiplied by this number and by the scaling factor for the pattern returned by patternCorrScale </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00523">523</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="Blob_8cpp_source.html#l00657">uriVL::Blob::getNbPixels()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00180">grayImg_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00176">grayPat_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00160">patBlob_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">patHeight_</a>, <a class="el" href="PatternMatcher2D_8h_source.html#l00243">uriVL::PatternMatcher2D::patMask_</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">patWidth_</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00302">covariance()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00226">match_()</a>.</p>
<div class="fragment"><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;{</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keyword">const</span>   <span class="keywordtype">float</span>   nbPixelsScale = 1.f / <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a655814ae536ac8de312360bcd51bbcee">patBlob_</a>-&gt;<a class="code" href="classuriVL_1_1Blob.html#a4a9a92f34764607a19a494e302f9f936">getNbPixels</a>();</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">//  Part 1: Compute expected value and scaling factor for this part of the </span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">//          image</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordtype">float</span>   imgSum = 0, imgSumSq = 0, imgExp;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0, kI=y; kP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++, kI++)</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0, lI=x; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++, lI++)</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">patMask_</a>[kP][lP])</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                imgSum += (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af97ec824b3afcac986c22a89ece622ef">grayImg_</a>[kP][lP] = <a class="code" href="movieProcessing__main_8cpp.html#a70c4105fe7f14b6ea512c58b11e486c2">grayImg</a>[kI][lI]);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                imgSumSq += <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af97ec824b3afcac986c22a89ece622ef">grayImg_</a>[kP][lP]*<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af97ec824b3afcac986c22a89ece622ef">grayImg_</a>[kP][lP];</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    imgExp = imgSum * nbPixelsScale;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    *corrScale = 1.f / sqrtf(imgSumSq*nbPixelsScale - imgExp*imgExp);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="comment">//  Part 2: Now actually compute the covariance</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordtype">float</span> covSum = 0.f;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0; kP&lt; <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++)</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++)</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">patMask_</a>[kP][lP])</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                covSum += <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a9b7d0d9b09ed77af554d3d263a04f139">grayPat_</a>[kP][lP] * (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af97ec824b3afcac986c22a89ece622ef">grayImg_</a>[kP][lP] - imgExp);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    *cov = covSum * nbPixelsScale;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div>
<div class="ttc" id="movieProcessing__main_8cpp_html_a70c4105fe7f14b6ea512c58b11e486c2"><div class="ttname"><a href="movieProcessing__main_8cpp.html#a70c4105fe7f14b6ea512c58b11e486c2">grayImg</a></div><div class="ttdeci">RasterImage_gray * grayImg</div><div class="ttdef"><b>Definition:</b> <a href="movieProcessing__main_8cpp_source.html#l00162">movieProcessing_main.cpp:162</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af8f7db12f2a541d603e3964415a4ae09"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">uriVL::PatternMatcher2D_scaledDiff::patHeight_</a></div><div class="ttdeci">int patHeight_</div><div class="ttdoc">Height of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">PatternMatcher2D_scaledDiff.h:201</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a655814ae536ac8de312360bcd51bbcee"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a655814ae536ac8de312360bcd51bbcee">uriVL::PatternMatcher2D_scaledDiff::patBlob_</a></div><div class="ttdeci">const Blob * patBlob_</div><div class="ttdoc">Blob information of the pattern we are seeking. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00160">PatternMatcher2D_scaledDiff.h:160</a></div></div>
<div class="ttc" id="classuriVL_1_1Blob_html_a4a9a92f34764607a19a494e302f9f936"><div class="ttname"><a href="classuriVL_1_1Blob.html#a4a9a92f34764607a19a494e302f9f936">uriVL::Blob::getNbPixels</a></div><div class="ttdeci">long getNbPixels(void) const </div><div class="ttdoc">Returns the total number of pixels in the blob. </div><div class="ttdef"><b>Definition:</b> <a href="Blob_8cpp_source.html#l00657">Blob.cpp:657</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D_html_a6f96fae6655b0ef089de23888ba45149"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">uriVL::PatternMatcher2D::patMask_</a></div><div class="ttdeci">unsigned char ** patMask_</div><div class="ttdoc">mask corresponding to the part of the pattern&#39;s bounding box to be used for matching calculations...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D_8h_source.html#l00243">PatternMatcher2D.h:243</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a9b7d0d9b09ed77af554d3d263a04f139"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a9b7d0d9b09ed77af554d3d263a04f139">uriVL::PatternMatcher2D_scaledDiff::grayPat_</a></div><div class="ttdeci">float ** grayPat_</div><div class="ttdoc">copy of a gray-level pattern&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00176">PatternMatcher2D_scaledDiff.h:176</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af97ec824b3afcac986c22a89ece622ef"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af97ec824b3afcac986c22a89ece622ef">uriVL::PatternMatcher2D_scaledDiff::grayImg_</a></div><div class="ttdeci">float ** grayImg_</div><div class="ttdoc">copy of a gray-level image region&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00180">PatternMatcher2D_scaledDiff.h:180</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a3d9a842b56a15c407e97f1cbb7995d6f"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">uriVL::PatternMatcher2D_scaledDiff::patWidth_</a></div><div class="ttdeci">int patWidth_</div><div class="ttdoc">Width of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">PatternMatcher2D_scaledDiff.h:197</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_a528239ef8a365d5d0883787b7537647c_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_a528239ef8a365d5d0883787b7537647c_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_a528239ef8a365d5d0883787b7537647c_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_a528239ef8a365d5d0883787b7537647c_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a523071020c94f183d8ba373a3fab4d50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::covarianceRGBa_ </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *const *&#160;</td>
          <td class="paramname"><em>rgbaImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>cov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>corrScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the correlation score between a rectangular pattern and an image at the location indicated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rgbaImg</td><td>2D RGBa raster of the image in which to search for a best match </td></tr>
    <tr><td class="paramname">x</td><td>horizontal coordinate of where to compute a score </td></tr>
    <tr><td class="paramname">y</td><td>vertical coordinate of where to compute a score </td></tr>
    <tr><td class="paramname">cov</td><td>covariance of the two signals </td></tr>
    <tr><td class="paramname">corrScale</td><td>scaling factor for the image region. The covariance should be mutiplied by this number and by the scaling factor for the pattern returned by patternCorrScale </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00327">327</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">patHeight_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">patWidth_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00188">rgbaImg_</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00184">rgbaPat_</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00277">covariance()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00087">match_()</a>.</p>
<div class="fragment"><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;{</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span>   nbPatPixels = <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a> * <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> nbPixelsScale = 1.f / nbPatPixels;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordtype">float</span>   imgRedSum = 0, imgRedSumSq = 0, imgRedExp;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordtype">float</span>   imgGreenSum = 0, imgGreenSumSq = 0, imgGreenExp;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordtype">float</span>   imgBlueSum = 0, imgBlueSumSq = 0, imgBlueExp;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">//  Part 1: Compute expected value and scaling factor for this part of the </span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">//          image</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">// unused variables ... -CJC</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">//     const int   kMin = y, kMax = y + patHeight_ - 1,</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">//                 lMin = x, lMax = x + patWidth_ - 1;</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0, kI=y; kP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++, kI++)</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0, lI=x, fourLI=4*lI; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++, lI++, fourLI+=2)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="comment">//  red component</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            imgRedSum += (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">rgbaImg_</a>[kP][lP][0] = rgbaImg[kI][fourLI]);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            imgRedSumSq += <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">rgbaImg_</a>[kP][lP][0]*<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">rgbaImg_</a>[kP][lP][0];</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="comment">//  green component</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            imgGreenSum += (rgbaImg_[kP][lP][1] = rgbaImg[kI][++fourLI]);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            imgGreenSumSq += rgbaImg_[kP][lP][1]*rgbaImg_[kP][lP][1];</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="comment">//  blue component</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            imgBlueSum += (rgbaImg_[kP][lP][2] = rgbaImg[kI][++fourLI]);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            imgBlueSumSq += rgbaImg_[kP][lP][2]*rgbaImg_[kP][lP][2];</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    imgRedExp = imgRedSum * nbPixelsScale;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    corrScale[0] = 1.f / sqrtf(imgRedSumSq*nbPixelsScale - imgRedExp*imgRedExp);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    imgGreenExp = imgGreenSum * nbPixelsScale;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    corrScale[1] = 1.f / sqrtf(imgGreenSumSq*nbPixelsScale - imgGreenExp*imgGreenExp);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    imgBlueExp = imgBlueSum * nbPixelsScale;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    corrScale[2] = 1.f / sqrtf(imgBlueSumSq*nbPixelsScale - imgBlueExp*imgBlueExp);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">//  Part 2: Now actually compute the covariance</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordtype">float</span>   covRedSum = 0, covGreenSum = 0, covBlueSum = 0;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0; kP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++)</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="comment">//  red component</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            covRedSum += <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a>[kP][lP][0] * </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                          (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">rgbaImg_</a>[kP][lP][0] - imgRedExp);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="comment">//  green component</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            covGreenSum += <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a>[kP][lP][1] * </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                            (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">rgbaImg_</a>[kP][lP][1] - imgGreenExp);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="comment">//  blue component</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            covBlueSum += <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a>[kP][lP][2] * </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                           (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">rgbaImg_</a>[kP][lP][2] - imgBlueExp);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    cov[0] = covRedSum * nbPixelsScale;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    cov[1] = covGreenSum * nbPixelsScale;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    cov[2] = covBlueSum * nbPixelsScale;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af8f7db12f2a541d603e3964415a4ae09"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">uriVL::PatternMatcher2D_scaledDiff::patHeight_</a></div><div class="ttdeci">int patHeight_</div><div class="ttdoc">Height of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">PatternMatcher2D_scaledDiff.h:201</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a2fb1eee81e0dae704e7c4723c5aa7bde"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">uriVL::PatternMatcher2D_scaledDiff::rgbaPat_</a></div><div class="ttdeci">float *** rgbaPat_</div><div class="ttdoc">copy of a color rgba pattern&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00184">PatternMatcher2D_scaledDiff.h:184</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a94ea27f6aaac9df01375687f7f0f1cb7"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">uriVL::PatternMatcher2D_scaledDiff::rgbaImg_</a></div><div class="ttdeci">float *** rgbaImg_</div><div class="ttdoc">copy of a color rgba image region&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00188">PatternMatcher2D_scaledDiff.h:188</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a3d9a842b56a15c407e97f1cbb7995d6f"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">uriVL::PatternMatcher2D_scaledDiff::patWidth_</a></div><div class="ttdeci">int patWidth_</div><div class="ttdoc">Width of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">PatternMatcher2D_scaledDiff.h:197</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a834bb2d3f20a2cbec8cc1de936fa694d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::covarianceRGBaBlob_ </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *const *&#160;</td>
          <td class="paramname"><em>rgbaImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>cov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>corrScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the correlation score between a blob pattern and an image at the location indicated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rgbaImg</td><td>2D RGBa raster of the image in which to search for a best match </td></tr>
    <tr><td class="paramname">x</td><td>horizontal coordinate of where to compute a score </td></tr>
    <tr><td class="paramname">y</td><td>vertical coordinate of where to compute a score </td></tr>
    <tr><td class="paramname">cov</td><td>covariance of the two signals </td></tr>
    <tr><td class="paramname">corrScale</td><td>scaling factor for the image region. The covariance should be mutiplied by this number and by the scaling factor for the pattern returned by patternCorrScale </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00428">428</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="Blob_8cpp_source.html#l00657">uriVL::Blob::getNbPixels()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00160">patBlob_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">patHeight_</a>, <a class="el" href="PatternMatcher2D_8h_source.html#l00243">uriVL::PatternMatcher2D::patMask_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">patWidth_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00188">rgbaImg_</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00184">rgbaPat_</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00277">covariance()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00178">match_()</a>.</p>
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;{</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keyword">const</span>   <span class="keywordtype">float</span>   nbPixelsScale = 1.f / <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a655814ae536ac8de312360bcd51bbcee">patBlob_</a>-&gt;<a class="code" href="classuriVL_1_1Blob.html#a4a9a92f34764607a19a494e302f9f936">getNbPixels</a>();</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordtype">float</span>   imgRedSum = 0, imgRedSumSq = 0, imgRedExp;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordtype">float</span>   imgGreenSum = 0, imgGreenSumSq = 0, imgGreenExp;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordtype">float</span>   imgBlueSum = 0, imgBlueSumSq = 0, imgBlueExp;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">//  Part 1: Compute expected value and scaling factor for this part of the </span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">//          image</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">// unused variables... -CJC</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">//     const int   kMin = y, kMax = y + patHeight_ - 1,</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">//                 lMin = x, lMax = x + patWidth_ - 1;</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0, kI=y; kP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++, kI++)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0, lI=x, fourLI=4*lI; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++, lI++)</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">patMask_</a>[kP][lP])</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                    <span class="comment">//  red component</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                    imgRedSum += (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">rgbaImg_</a>[kP][lP][0] = rgbaImg[kI][fourLI]);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                    imgRedSumSq += <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">rgbaImg_</a>[kP][lP][0]*<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">rgbaImg_</a>[kP][lP][0];</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                    <span class="comment">//  green component</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                    imgGreenSum += (rgbaImg_[kP][lP][1] = rgbaImg[kI][++fourLI]);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                    imgGreenSumSq += rgbaImg_[kP][lP][1]*rgbaImg_[kP][lP][1];</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    <span class="comment">//  blue component</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                    imgBlueSum += (rgbaImg_[kP][lP][2] = rgbaImg[kI][++fourLI]);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    imgBlueSumSq += rgbaImg_[kP][lP][2]*rgbaImg_[kP][lP][2];</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    fourLI+=2;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                fourLI+=4;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    imgRedExp = imgRedSum * nbPixelsScale;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    corrScale[0] = 1.f / sqrtf(imgRedSumSq*nbPixelsScale - imgRedExp*imgRedExp);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    imgGreenExp = imgGreenSum * nbPixelsScale;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    corrScale[1] = 1.f / sqrtf(imgGreenSumSq*nbPixelsScale - imgGreenExp*imgGreenExp);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    imgBlueExp = imgBlueSum * nbPixelsScale;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    corrScale[2] = 1.f / sqrtf(imgBlueSumSq*nbPixelsScale - imgBlueExp*imgBlueExp);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">float   patRedTerm = 0,</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">        patGreenTerm = 0,</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">        patBlueTerm = 0,</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">        imgRedTerm = 0,</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">        imgGreenTerm = 0,</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">        imgBlueTerm = 0;</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="comment">//  Part 2: Now actually compute the covariance</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordtype">float</span>   covRedSum = 0, covGreenSum = 0, covBlueSum = 0;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0; kP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++)</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">patMask_</a>[kP][lP])</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">patRedTerm += rgbaPat_[kP][lP][0];</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">patGreenTerm += rgbaPat_[kP][lP][1];</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">patBlueTerm += rgbaPat_[kP][lP][2];</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">imgRedTerm += (rgbaImg_[kP][lP][0] - imgRedExp);</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">imgGreenTerm += (rgbaImg_[kP][lP][1] - imgGreenExp);</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">imgBlueTerm += (rgbaImg_[kP][lP][2] - imgBlueExp);</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <span class="comment">//  red component</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                covRedSum += <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a>[kP][lP][0] * </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                              (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">rgbaImg_</a>[kP][lP][0] - imgRedExp);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                <span class="comment">//  green component</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                covGreenSum += <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a>[kP][lP][1] * </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">rgbaImg_</a>[kP][lP][1] - imgGreenExp);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <span class="comment">//  blue component</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                covBlueSum += <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a>[kP][lP][2] * </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                               (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">rgbaImg_</a>[kP][lP][2] - imgBlueExp);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">//float xxx = patRedTerm + patGreenTerm + patBlueTerm + imgRedTerm + imgGreenTerm + imgBlueTerm;</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    cov[0] = covRedSum * nbPixelsScale;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    cov[1] = covGreenSum * nbPixelsScale;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    cov[2] = covBlueSum * nbPixelsScale;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af8f7db12f2a541d603e3964415a4ae09"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">uriVL::PatternMatcher2D_scaledDiff::patHeight_</a></div><div class="ttdeci">int patHeight_</div><div class="ttdoc">Height of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">PatternMatcher2D_scaledDiff.h:201</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a655814ae536ac8de312360bcd51bbcee"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a655814ae536ac8de312360bcd51bbcee">uriVL::PatternMatcher2D_scaledDiff::patBlob_</a></div><div class="ttdeci">const Blob * patBlob_</div><div class="ttdoc">Blob information of the pattern we are seeking. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00160">PatternMatcher2D_scaledDiff.h:160</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a2fb1eee81e0dae704e7c4723c5aa7bde"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">uriVL::PatternMatcher2D_scaledDiff::rgbaPat_</a></div><div class="ttdeci">float *** rgbaPat_</div><div class="ttdoc">copy of a color rgba pattern&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00184">PatternMatcher2D_scaledDiff.h:184</a></div></div>
<div class="ttc" id="classuriVL_1_1Blob_html_a4a9a92f34764607a19a494e302f9f936"><div class="ttname"><a href="classuriVL_1_1Blob.html#a4a9a92f34764607a19a494e302f9f936">uriVL::Blob::getNbPixels</a></div><div class="ttdeci">long getNbPixels(void) const </div><div class="ttdoc">Returns the total number of pixels in the blob. </div><div class="ttdef"><b>Definition:</b> <a href="Blob_8cpp_source.html#l00657">Blob.cpp:657</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D_html_a6f96fae6655b0ef089de23888ba45149"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">uriVL::PatternMatcher2D::patMask_</a></div><div class="ttdeci">unsigned char ** patMask_</div><div class="ttdoc">mask corresponding to the part of the pattern&#39;s bounding box to be used for matching calculations...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D_8h_source.html#l00243">PatternMatcher2D.h:243</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a94ea27f6aaac9df01375687f7f0f1cb7"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a94ea27f6aaac9df01375687f7f0f1cb7">uriVL::PatternMatcher2D_scaledDiff::rgbaImg_</a></div><div class="ttdeci">float *** rgbaImg_</div><div class="ttdoc">copy of a color rgba image region&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00188">PatternMatcher2D_scaledDiff.h:188</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a3d9a842b56a15c407e97f1cbb7995d6f"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">uriVL::PatternMatcher2D_scaledDiff::patWidth_</a></div><div class="ttdeci">int patWidth_</div><div class="ttdoc">Width of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">PatternMatcher2D_scaledDiff.h:197</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_a834bb2d3f20a2cbec8cc1de936fa694d_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_a834bb2d3f20a2cbec8cc1de936fa694d_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_a834bb2d3f20a2cbec8cc1de936fa694d_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_a834bb2d3f20a2cbec8cc1de936fa694d_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a554120eaae95342c85a3afc55cb62b65"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::deleteRasters_ </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes the private computation rasters. </p>

<p>Reimplemented from <a class="el" href="classuriVL_1_1PatternMatcher2D.html#abc520e30efd2ae434832355b80b9b759">uriVL::PatternMatcher2D</a>.</p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00835">835</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="PatternMatcher2D_8cpp_source.html#l00232">uriVL::PatternMatcher2D::deleteRasters_()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00193">patExp_</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00042">~PatternMatcher2D_scaledDiff()</a>.</p>
<div class="fragment"><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;{</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D.html#abc520e30efd2ae434832355b80b9b759">PatternMatcher2D::deleteRasters_</a>();</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a> != NULL)</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="keyword">delete</span> []<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a738a5f4c695a9c476c32c18981f3db13"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">uriVL::PatternMatcher2D_scaledDiff::patExp_</a></div><div class="ttdeci">float * patExp_</div><div class="ttdoc">Expected value(s) of the pattern raster. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00193">PatternMatcher2D_scaledDiff.h:193</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D_html_abc520e30efd2ae434832355b80b9b759"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D.html#abc520e30efd2ae434832355b80b9b759">uriVL::PatternMatcher2D::deleteRasters_</a></div><div class="ttdeci">virtual void deleteRasters_(void)</div><div class="ttdoc">Deletes the private computation rasters. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D_8cpp_source.html#l00232">PatternMatcher2D.cpp:232</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_a554120eaae95342c85a3afc55cb62b65_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_a554120eaae95342c85a3afc55cb62b65_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_a554120eaae95342c85a3afc55cb62b65_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_a554120eaae95342c85a3afc55cb62b65_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0356d3dea5e8e5f0894b0c0a30d9d1de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool PatternMatcher2D_scaledDiff::isProperMatchRecordType_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *&#160;</td>
          <td class="paramname"><em>matchRecord</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether the <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html" title="Holds the records of a 2D matching result. ">Pattern2DMatchRecord</a> sent has the proper subtype for the matcher. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">matchRecord</td><td><a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html" title="Holds the records of a 2D matching result. ">Pattern2DMatchRecord</a> to check </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classuriVL_1_1PatternMatcher2D.html#ab40caf8d5be6980859b6edd5311180c2">uriVL::PatternMatcher2D</a>.</p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00822">822</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;{</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="comment">//  the correlation matcher only requires a generic match record</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af3d428d06df974a9337b866927d7f60c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::match_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *&#160;</td>
          <td class="paramname"><em>patImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1ImageRect.html">ImageRect</a> *&#160;</td>
          <td class="paramname"><em>searchRect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *&#160;</td>
          <td class="paramname"><em>matchRecord</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines the location and score of the best match for a target pattern in an rgba image. </p>
<p>The correlation computed is the average of that of the three color components. The search region is specified by an image rectangle. The pattern is a (small) rectangular image patch</p>
<p>If the search region selected extends out of the image's valid data rectangle, then a smaller effective search region is used instead.</p>
<p>Note for developers of stereo or motion matchers: the origin of pattern is in its upper-left corner. You will need to translate the best match found by half the dimensions of the target pattern if you want to do point-to-point matching (disparity)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patImg</td><td>the rectangular image pattern to search for in <code>img</code>. </td></tr>
    <tr><td class="paramname">searchRect</td><td>the region of the search </td></tr>
    <tr><td class="paramname">img</td><td>the image in which to search for a best match </td></tr>
    <tr><td class="paramname">matchRecord</td><td><a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html" title="Holds the records of a 2D matching result. ">Pattern2DMatchRecord</a> of the best match found </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classuriVL_1_1PatternMatcher2D.html#aae0e7a6eba760766f93c3b7dd407339c">uriVL::PatternMatcher2D</a>.</p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00087">87</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00327">covarianceRGBa_()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00300">uriVL::ImageRect::getBottom()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00285">uriVL::ImageRect::getLeft()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00290">uriVL::ImageRect::getRight()</a>, <a class="el" href="RasterImage__RGBa_8cpp_source.html#l00346">uriVL::RasterImage_RGBa::getShiftedRGBa2D()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00295">uriVL::ImageRect::getTop()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">patternCorrScale_()</a>, <a class="el" href="Pattern2DMatchRecord_8cpp_source.html#l00072">uriVL::Pattern2DMatchRecord::setBestMatch()</a>, and <a class="el" href="Pattern2DMatchRecord_8cpp_source.html#l00066">uriVL::Pattern2DMatchRecord::setScore()</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> ONE_THIRD = 1.f / 3.f;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span>   iLow = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#a2715b0a7b291354fd839a95ece0e0aba">getTop</a>(),</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                iHigh = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#acb34c902550ecb25f7fa6ffb620aea71">getBottom</a>(),</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                jLow = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#a38bd531df6bd6c4892bca1a690feda13">getLeft</a>(),</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                jHigh = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#a89884bd1866a1b7ffb67d4cc1ec1a052">getRight</a>();</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <span class="keyword">const</span>* rgbaImg = img-&gt;<a class="code" href="classuriVL_1_1RasterImage__RGBa.html#a24a7f4f38eb807261c7038759e756edf">getShiftedRGBa2D</a>();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordtype">float</span>   patCorrScale[3] = {0, 0, 0};</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordtype">float</span>   cov[3] = {0, 0, 0},</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            corrScale[3] = {0, 0, 0},</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            corr, </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            bestScore = -2;        </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordtype">int</span>     bestI=-1, bestJ=-1;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">//  Compute the pattern&#39;s correlation scale factor</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">patternCorrScale_</a>(patImg, patCorrScale);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">//  For each possible location of the upper-left corner of the pattern</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=iLow; i&lt;=iHigh; i++)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=jLow; j&lt;=jHigh; j++)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="comment">//  compute the variance and scaling factor</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a523071020c94f183d8ba373a3fab4d50">covarianceRGBa_</a>(rgbaImg, j, i, cov, corrScale);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="comment">//  Compute the actual correlation value and compare it to best so far</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            corr = ONE_THIRD * (cov[0] * corrScale[0] * patCorrScale[0] + </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                cov[1] * corrScale[1] * patCorrScale[1] + </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                cov[2] * corrScale[2] * patCorrScale[2]);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keywordflow">if</span> (corr &gt; bestScore)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                bestScore = corr;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                bestI = i;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                bestJ = j;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">//  At the end of the loop, we report the best correlation score and its location.</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">//  Note that the &quot;best&quot; is not necessarily good.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    matchRecord-&gt;<a class="code" href="classuriVL_1_1Pattern2DMatchRecord.html#a0ccf42136aa9bff68077d6fbbe38a263">setScore</a>(bestScore);  </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    matchRecord-&gt;<a class="code" href="classuriVL_1_1Pattern2DMatchRecord.html#a1dcdf872a19a9518226928308e412adb">setBestMatch</a>(bestJ, bestI);       </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_a2715b0a7b291354fd839a95ece0e0aba"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#a2715b0a7b291354fd839a95ece0e0aba">uriVL::ImageRect::getTop</a></div><div class="ttdeci">int getTop(void) const </div><div class="ttdoc">Returns the minimum y coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00295">ImageRect.cpp:295</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a523071020c94f183d8ba373a3fab4d50"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a523071020c94f183d8ba373a3fab4d50">uriVL::PatternMatcher2D_scaledDiff::covarianceRGBa_</a></div><div class="ttdeci">void covarianceRGBa_(const unsigned char *const *rgbaImg, int x, int y, float *cov, float *corrScale)</div><div class="ttdoc">Computes the correlation score between a rectangular pattern and an image at the location indicated...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00327">PatternMatcher2D_scaledDiff.cpp:327</a></div></div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_a89884bd1866a1b7ffb67d4cc1ec1a052"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#a89884bd1866a1b7ffb67d4cc1ec1a052">uriVL::ImageRect::getRight</a></div><div class="ttdeci">int getRight(void) const </div><div class="ttdoc">Returns the maximum x coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00290">ImageRect.cpp:290</a></div></div>
<div class="ttc" id="classuriVL_1_1Pattern2DMatchRecord_html_a1dcdf872a19a9518226928308e412adb"><div class="ttname"><a href="classuriVL_1_1Pattern2DMatchRecord.html#a1dcdf872a19a9518226928308e412adb">uriVL::Pattern2DMatchRecord::setBestMatch</a></div><div class="ttdeci">void setBestMatch(int x, int y)</div><div class="ttdoc">Sets the coordinates of the best match. </div><div class="ttdef"><b>Definition:</b> <a href="Pattern2DMatchRecord_8cpp_source.html#l00072">Pattern2DMatchRecord.cpp:72</a></div></div>
<div class="ttc" id="classuriVL_1_1Pattern2DMatchRecord_html_a0ccf42136aa9bff68077d6fbbe38a263"><div class="ttname"><a href="classuriVL_1_1Pattern2DMatchRecord.html#a0ccf42136aa9bff68077d6fbbe38a263">uriVL::Pattern2DMatchRecord::setScore</a></div><div class="ttdeci">void setScore(float score)</div><div class="ttdoc">Sets the score. </div><div class="ttdef"><b>Definition:</b> <a href="Pattern2DMatchRecord_8cpp_source.html#l00066">Pattern2DMatchRecord.cpp:66</a></div></div>
<div class="ttc" id="classuriVL_1_1RasterImage__RGBa_html_a24a7f4f38eb807261c7038759e756edf"><div class="ttname"><a href="classuriVL_1_1RasterImage__RGBa.html#a24a7f4f38eb807261c7038759e756edf">uriVL::RasterImage_RGBa::getShiftedRGBa2D</a></div><div class="ttdeci">virtual const unsigned char *const * getShiftedRGBa2D(void) const </div><div class="ttdoc">Returns the shifted 32-bit rgba base raster as a read-only 2D array. </div><div class="ttdef"><b>Definition:</b> <a href="RasterImage__RGBa_8cpp_source.html#l00346">RasterImage_RGBa.cpp:346</a></div></div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_acb34c902550ecb25f7fa6ffb620aea71"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#acb34c902550ecb25f7fa6ffb620aea71">uriVL::ImageRect::getBottom</a></div><div class="ttdeci">int getBottom(void) const </div><div class="ttdoc">Returns the maximum y coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00300">ImageRect.cpp:300</a></div></div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_a38bd531df6bd6c4892bca1a690feda13"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#a38bd531df6bd6c4892bca1a690feda13">uriVL::ImageRect::getLeft</a></div><div class="ttdeci">int getLeft(void) const </div><div class="ttdoc">Returns the minimum x coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00285">ImageRect.cpp:285</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a197f4bd3c365d017f8bfe48c84877562"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">uriVL::PatternMatcher2D_scaledDiff::patternCorrScale_</a></div><div class="ttdeci">void patternCorrScale_(const RasterImage_RGBa *patImg, float *patCorrScale)</div><div class="ttdoc">Computes the correlation scaling factor and expected color intensity values for the pattern...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">PatternMatcher2D_scaledDiff.cpp:621</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_af3d428d06df974a9337b866927d7f60c_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_af3d428d06df974a9337b866927d7f60c_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_af3d428d06df974a9337b866927d7f60c_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_af3d428d06df974a9337b866927d7f60c_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac42360db14c118423ebf92efa07cf89b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::match_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *&#160;</td>
          <td class="paramname"><em>patImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1ImageRect.html">ImageRect</a> *&#160;</td>
          <td class="paramname"><em>searchRect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *&#160;</td>
          <td class="paramname"><em>matchRecord</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines the location and score of the best match for a target pattern in a gray-level image. </p>
<p>The search region is specified by an image rectangle. The pattern is a (small) rectangular image patch</p>
<p>If the search region selected extends out of the image's valid data rectangle, then a smaller effective search region is used instead.</p>
<p>Note for developers of stereo or motion matchers: the origin of pattern is in its upper-left corner. You will need to translate the best match found by half the dimensions of the target pattern if you want to do point-to-point matching (disparity)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patImg</td><td>the rectangular image pattern to search for in <code>img</code>. </td></tr>
    <tr><td class="paramname">searchRect</td><td>the region of the search </td></tr>
    <tr><td class="paramname">img</td><td>the image in which to search for a best match </td></tr>
    <tr><td class="paramname">matchRecord</td><td><a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html" title="Holds the records of a 2D matching result. ">Pattern2DMatchRecord</a> of the best match found </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classuriVL_1_1PatternMatcher2D.html#a711a75eb83fc9474d7d44b7af78043b6">uriVL::PatternMatcher2D</a>.</p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00134">134</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00397">covarianceGray_()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00300">uriVL::ImageRect::getBottom()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00285">uriVL::ImageRect::getLeft()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00290">uriVL::ImageRect::getRight()</a>, <a class="el" href="RasterImage__gray_8cpp_source.html#l00359">uriVL::RasterImage_gray::getShiftedGray2D()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00295">uriVL::ImageRect::getTop()</a>, <a class="el" href="movieProcessing__main_8cpp_source.html#l00162">grayImg</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">patternCorrScale_()</a>, <a class="el" href="Pattern2DMatchRecord_8cpp_source.html#l00072">uriVL::Pattern2DMatchRecord::setBestMatch()</a>, and <a class="el" href="Pattern2DMatchRecord_8cpp_source.html#l00066">uriVL::Pattern2DMatchRecord::setScore()</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span>   iLow = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#a2715b0a7b291354fd839a95ece0e0aba">getTop</a>(),</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                iHigh = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#acb34c902550ecb25f7fa6ffb620aea71">getBottom</a>(),</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                jLow = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#a38bd531df6bd6c4892bca1a690feda13">getLeft</a>(),</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                jHigh = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#a89884bd1866a1b7ffb67d4cc1ec1a052">getRight</a>();</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <span class="keyword">const</span>* <a class="code" href="movieProcessing__main_8cpp.html#a70c4105fe7f14b6ea512c58b11e486c2">grayImg</a> = img-&gt;<a class="code" href="classuriVL_1_1RasterImage__gray.html#a837bf18ff95fcdd6268109f5aedb9dfa">getShiftedGray2D</a>();</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">//  Compute the pattern&#39;s correlation scale factor</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordtype">float</span>       patCorrScale = 0;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">patternCorrScale_</a>(patImg, &amp;patCorrScale);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordtype">float</span>   cov = 0, corr, corrScale = 0, bestScore = -2;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordtype">int</span>     bestI=-1, bestJ=-1;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">//  For each possible location of the upper-left corner of the pattern</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=iLow; i&lt;=iHigh; i++)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=jLow; j&lt;=jHigh; j++)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="comment">//  compute the variance and scaling factor</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af49e7f77112c2360ae33fc7196633690">covarianceGray_</a>(grayImg, j, i, &amp;cov, &amp;corrScale);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="comment">//  Compute the actual correlation value and compare it to best so far</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            corr = cov * corrScale * patCorrScale;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="keywordflow">if</span> (corr &gt; bestScore)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                bestScore = corr;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                bestI = i;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                bestJ = j;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">//  At the end of the loop, we report the best correlation score and its location.</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">//  Note that the &quot;best&quot; is not necessarily good.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    matchRecord-&gt;<a class="code" href="classuriVL_1_1Pattern2DMatchRecord.html#a0ccf42136aa9bff68077d6fbbe38a263">setScore</a>(bestScore);  </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    matchRecord-&gt;<a class="code" href="classuriVL_1_1Pattern2DMatchRecord.html#a1dcdf872a19a9518226928308e412adb">setBestMatch</a>(bestJ, bestI);       </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="ttc" id="movieProcessing__main_8cpp_html_a70c4105fe7f14b6ea512c58b11e486c2"><div class="ttname"><a href="movieProcessing__main_8cpp.html#a70c4105fe7f14b6ea512c58b11e486c2">grayImg</a></div><div class="ttdeci">RasterImage_gray * grayImg</div><div class="ttdef"><b>Definition:</b> <a href="movieProcessing__main_8cpp_source.html#l00162">movieProcessing_main.cpp:162</a></div></div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_a2715b0a7b291354fd839a95ece0e0aba"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#a2715b0a7b291354fd839a95ece0e0aba">uriVL::ImageRect::getTop</a></div><div class="ttdeci">int getTop(void) const </div><div class="ttdoc">Returns the minimum y coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00295">ImageRect.cpp:295</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af49e7f77112c2360ae33fc7196633690"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af49e7f77112c2360ae33fc7196633690">uriVL::PatternMatcher2D_scaledDiff::covarianceGray_</a></div><div class="ttdeci">void covarianceGray_(const unsigned char *const *grayImg, int x, int y, float *cov, float *corrScale)</div><div class="ttdoc">Computes the correlation score between a rectangular pattern and an image at the location indicated...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00397">PatternMatcher2D_scaledDiff.cpp:397</a></div></div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_a89884bd1866a1b7ffb67d4cc1ec1a052"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#a89884bd1866a1b7ffb67d4cc1ec1a052">uriVL::ImageRect::getRight</a></div><div class="ttdeci">int getRight(void) const </div><div class="ttdoc">Returns the maximum x coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00290">ImageRect.cpp:290</a></div></div>
<div class="ttc" id="classuriVL_1_1Pattern2DMatchRecord_html_a1dcdf872a19a9518226928308e412adb"><div class="ttname"><a href="classuriVL_1_1Pattern2DMatchRecord.html#a1dcdf872a19a9518226928308e412adb">uriVL::Pattern2DMatchRecord::setBestMatch</a></div><div class="ttdeci">void setBestMatch(int x, int y)</div><div class="ttdoc">Sets the coordinates of the best match. </div><div class="ttdef"><b>Definition:</b> <a href="Pattern2DMatchRecord_8cpp_source.html#l00072">Pattern2DMatchRecord.cpp:72</a></div></div>
<div class="ttc" id="classuriVL_1_1Pattern2DMatchRecord_html_a0ccf42136aa9bff68077d6fbbe38a263"><div class="ttname"><a href="classuriVL_1_1Pattern2DMatchRecord.html#a0ccf42136aa9bff68077d6fbbe38a263">uriVL::Pattern2DMatchRecord::setScore</a></div><div class="ttdeci">void setScore(float score)</div><div class="ttdoc">Sets the score. </div><div class="ttdef"><b>Definition:</b> <a href="Pattern2DMatchRecord_8cpp_source.html#l00066">Pattern2DMatchRecord.cpp:66</a></div></div>
<div class="ttc" id="classuriVL_1_1RasterImage__gray_html_a837bf18ff95fcdd6268109f5aedb9dfa"><div class="ttname"><a href="classuriVL_1_1RasterImage__gray.html#a837bf18ff95fcdd6268109f5aedb9dfa">uriVL::RasterImage_gray::getShiftedGray2D</a></div><div class="ttdeci">virtual const unsigned char *const * getShiftedGray2D(void) const </div><div class="ttdoc">Returns the shifted 8-bit gray-level base raster as a read-only 2D array. </div><div class="ttdef"><b>Definition:</b> <a href="RasterImage__gray_8cpp_source.html#l00359">RasterImage_gray.cpp:359</a></div></div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_acb34c902550ecb25f7fa6ffb620aea71"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#acb34c902550ecb25f7fa6ffb620aea71">uriVL::ImageRect::getBottom</a></div><div class="ttdeci">int getBottom(void) const </div><div class="ttdoc">Returns the maximum y coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00300">ImageRect.cpp:300</a></div></div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_a38bd531df6bd6c4892bca1a690feda13"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#a38bd531df6bd6c4892bca1a690feda13">uriVL::ImageRect::getLeft</a></div><div class="ttdeci">int getLeft(void) const </div><div class="ttdoc">Returns the minimum x coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00285">ImageRect.cpp:285</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a197f4bd3c365d017f8bfe48c84877562"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">uriVL::PatternMatcher2D_scaledDiff::patternCorrScale_</a></div><div class="ttdeci">void patternCorrScale_(const RasterImage_RGBa *patImg, float *patCorrScale)</div><div class="ttdoc">Computes the correlation scaling factor and expected color intensity values for the pattern...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">PatternMatcher2D_scaledDiff.cpp:621</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_ac42360db14c118423ebf92efa07cf89b_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_ac42360db14c118423ebf92efa07cf89b_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_ac42360db14c118423ebf92efa07cf89b_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_ac42360db14c118423ebf92efa07cf89b_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0d1b0a2c482c89d0f0445f505e3097fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::match_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *&#160;</td>
          <td class="paramname"><em>patImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *&#160;</td>
          <td class="paramname"><em>patBlob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1ImageRect.html">ImageRect</a> *&#160;</td>
          <td class="paramname"><em>searchRect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *&#160;</td>
          <td class="paramname"><em>matchRecord</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines the location and score of the best match for a target pattern in an rgba image. </p>
<p>The correlation computed is the average of that of the three color components. The search region is specified by an image rectangle. The pattern is a blob defined over a (small) rectangular image patch</p>
<p>If the search region selected extends out of the image's valid data rectangle, then a smaller effective search region is used instead.</p>
<p>Note for developers of stereo or motion matchers: the origin of pattern is in its upper-left corner. You will need to translate the best match found by half the dimensions of the target pattern if you want to do point-to-point matching (disparity)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patImg</td><td>the rectangular image pattern to search for in <code>img</code>. </td></tr>
    <tr><td class="paramname">patBlob</td><td>the blob that defines the actual geometry of the pattern </td></tr>
    <tr><td class="paramname">searchRect</td><td>the region of the search </td></tr>
    <tr><td class="paramname">img</td><td>the image in which to search for a best match </td></tr>
    <tr><td class="paramname">matchRecord</td><td><a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html" title="Holds the records of a 2D matching result. ">Pattern2DMatchRecord</a> of the best match found </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classuriVL_1_1PatternMatcher2D.html#a40d59a66a412d2cc3ad4aa8ec953e74e">uriVL::PatternMatcher2D</a>.</p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00178">178</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00428">covarianceRGBaBlob_()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00300">uriVL::ImageRect::getBottom()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00285">uriVL::ImageRect::getLeft()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00290">uriVL::ImageRect::getRight()</a>, <a class="el" href="RasterImage__RGBa_8cpp_source.html#l00346">uriVL::RasterImage_RGBa::getShiftedRGBa2D()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00295">uriVL::ImageRect::getTop()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">patternCorrScale_()</a>, <a class="el" href="Pattern2DMatchRecord_8cpp_source.html#l00072">uriVL::Pattern2DMatchRecord::setBestMatch()</a>, and <a class="el" href="Pattern2DMatchRecord_8cpp_source.html#l00066">uriVL::Pattern2DMatchRecord::setScore()</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">const</span>   <span class="keywordtype">float</span>   ONE_THIRD = 1.f / 3.f;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span>   iLow = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#a2715b0a7b291354fd839a95ece0e0aba">getTop</a>(),</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                iHigh = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#acb34c902550ecb25f7fa6ffb620aea71">getBottom</a>(),</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                jLow = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#a38bd531df6bd6c4892bca1a690feda13">getLeft</a>(),</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                jHigh = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#a89884bd1866a1b7ffb67d4cc1ec1a052">getRight</a>();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <span class="keyword">const</span>* rgbaImg = img-&gt;<a class="code" href="classuriVL_1_1RasterImage__RGBa.html#a24a7f4f38eb807261c7038759e756edf">getShiftedRGBa2D</a>();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordtype">float</span>   patCorrScale[3] = {0, 0, 0},</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            cov[3] = {0, 0, 0},</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            corrScale[3] = {0, 0, 0},</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            corr, </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            bestScore = -2;        </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordtype">int</span>     bestI=-1, bestJ=-1;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">//  Compute the pattern&#39;s correlation scale factor</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">patternCorrScale_</a>(patImg, patBlob, patCorrScale);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">//  For each possible location of the upper-left corner of the pattern</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=iLow; i&lt;=iHigh; i++)</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=jLow; j&lt;=jHigh; j++)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="comment">//  compute the variance and scaling factor</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a834bb2d3f20a2cbec8cc1de936fa694d">covarianceRGBaBlob_</a>(rgbaImg, j, i, cov, corrScale);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                        </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="comment">//  Compute the actual correlation value and compare it to best so far</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            corr = ONE_THIRD * (cov[0] * corrScale[0] * patCorrScale[0] + </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                cov[1] * corrScale[1] * patCorrScale[1] + </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                                cov[2] * corrScale[2] * patCorrScale[2]);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="keywordflow">if</span> (corr &gt; bestScore)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                bestScore = corr;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                bestI = i;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                bestJ = j;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">//  At the end of the loop, we report the best correlation score and its location.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">//  Note that the &quot;best&quot; is not necessarily good.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    matchRecord-&gt;<a class="code" href="classuriVL_1_1Pattern2DMatchRecord.html#a0ccf42136aa9bff68077d6fbbe38a263">setScore</a>(bestScore);  </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    matchRecord-&gt;<a class="code" href="classuriVL_1_1Pattern2DMatchRecord.html#a1dcdf872a19a9518226928308e412adb">setBestMatch</a>(bestJ, bestI);       </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_a2715b0a7b291354fd839a95ece0e0aba"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#a2715b0a7b291354fd839a95ece0e0aba">uriVL::ImageRect::getTop</a></div><div class="ttdeci">int getTop(void) const </div><div class="ttdoc">Returns the minimum y coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00295">ImageRect.cpp:295</a></div></div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_a89884bd1866a1b7ffb67d4cc1ec1a052"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#a89884bd1866a1b7ffb67d4cc1ec1a052">uriVL::ImageRect::getRight</a></div><div class="ttdeci">int getRight(void) const </div><div class="ttdoc">Returns the maximum x coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00290">ImageRect.cpp:290</a></div></div>
<div class="ttc" id="classuriVL_1_1Pattern2DMatchRecord_html_a1dcdf872a19a9518226928308e412adb"><div class="ttname"><a href="classuriVL_1_1Pattern2DMatchRecord.html#a1dcdf872a19a9518226928308e412adb">uriVL::Pattern2DMatchRecord::setBestMatch</a></div><div class="ttdeci">void setBestMatch(int x, int y)</div><div class="ttdoc">Sets the coordinates of the best match. </div><div class="ttdef"><b>Definition:</b> <a href="Pattern2DMatchRecord_8cpp_source.html#l00072">Pattern2DMatchRecord.cpp:72</a></div></div>
<div class="ttc" id="classuriVL_1_1Pattern2DMatchRecord_html_a0ccf42136aa9bff68077d6fbbe38a263"><div class="ttname"><a href="classuriVL_1_1Pattern2DMatchRecord.html#a0ccf42136aa9bff68077d6fbbe38a263">uriVL::Pattern2DMatchRecord::setScore</a></div><div class="ttdeci">void setScore(float score)</div><div class="ttdoc">Sets the score. </div><div class="ttdef"><b>Definition:</b> <a href="Pattern2DMatchRecord_8cpp_source.html#l00066">Pattern2DMatchRecord.cpp:66</a></div></div>
<div class="ttc" id="classuriVL_1_1RasterImage__RGBa_html_a24a7f4f38eb807261c7038759e756edf"><div class="ttname"><a href="classuriVL_1_1RasterImage__RGBa.html#a24a7f4f38eb807261c7038759e756edf">uriVL::RasterImage_RGBa::getShiftedRGBa2D</a></div><div class="ttdeci">virtual const unsigned char *const * getShiftedRGBa2D(void) const </div><div class="ttdoc">Returns the shifted 32-bit rgba base raster as a read-only 2D array. </div><div class="ttdef"><b>Definition:</b> <a href="RasterImage__RGBa_8cpp_source.html#l00346">RasterImage_RGBa.cpp:346</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a834bb2d3f20a2cbec8cc1de936fa694d"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a834bb2d3f20a2cbec8cc1de936fa694d">uriVL::PatternMatcher2D_scaledDiff::covarianceRGBaBlob_</a></div><div class="ttdeci">void covarianceRGBaBlob_(const unsigned char *const *rgbaImg, int x, int y, float *cov, float *corrScale)</div><div class="ttdoc">Computes the correlation score between a blob pattern and an image at the location indicated...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00428">PatternMatcher2D_scaledDiff.cpp:428</a></div></div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_acb34c902550ecb25f7fa6ffb620aea71"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#acb34c902550ecb25f7fa6ffb620aea71">uriVL::ImageRect::getBottom</a></div><div class="ttdeci">int getBottom(void) const </div><div class="ttdoc">Returns the maximum y coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00300">ImageRect.cpp:300</a></div></div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_a38bd531df6bd6c4892bca1a690feda13"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#a38bd531df6bd6c4892bca1a690feda13">uriVL::ImageRect::getLeft</a></div><div class="ttdeci">int getLeft(void) const </div><div class="ttdoc">Returns the minimum x coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00285">ImageRect.cpp:285</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a197f4bd3c365d017f8bfe48c84877562"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">uriVL::PatternMatcher2D_scaledDiff::patternCorrScale_</a></div><div class="ttdeci">void patternCorrScale_(const RasterImage_RGBa *patImg, float *patCorrScale)</div><div class="ttdoc">Computes the correlation scaling factor and expected color intensity values for the pattern...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">PatternMatcher2D_scaledDiff.cpp:621</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_a0d1b0a2c482c89d0f0445f505e3097fa_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_a0d1b0a2c482c89d0f0445f505e3097fa_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_a0d1b0a2c482c89d0f0445f505e3097fa_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_a0d1b0a2c482c89d0f0445f505e3097fa_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad1b443fcfeb36bc1b3c4f8ce6bf43adb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::match_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *&#160;</td>
          <td class="paramname"><em>patImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *&#160;</td>
          <td class="paramname"><em>patBlob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1ImageRect.html">ImageRect</a> *&#160;</td>
          <td class="paramname"><em>searchRect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> *&#160;</td>
          <td class="paramname"><em>matchRecord</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines the location and score of the best match for a target pattern in a gray-level image. </p>
<p>The search region is specified by an image rectangle. The pattern is a blob defined over a (small) rectangular image patch</p>
<p>If the search region selected extends out of the image's valid data rectangle, then a smaller effective search region is used instead.</p>
<p>Note for developers of stereo or motion matchers: the origin of pattern is in its upper-left corner. You will need to translate the best match found by half the dimensions of the target pattern if you want to do point-to-point matching (disparity)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patImg</td><td>the rectangular image pattern to search for in <code>img</code>. </td></tr>
    <tr><td class="paramname">patBlob</td><td>the blob that defines the actual geometry of the pattern </td></tr>
    <tr><td class="paramname">searchRect</td><td>the region of the search </td></tr>
    <tr><td class="paramname">img</td><td>the image in which to search for a best match </td></tr>
    <tr><td class="paramname">matchRecord</td><td><a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html" title="Holds the records of a 2D matching result. ">Pattern2DMatchRecord</a> of the best match found </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classuriVL_1_1PatternMatcher2D.html#a873c0d3c49406d0d51816465cc0f2b10">uriVL::PatternMatcher2D</a>.</p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00226">226</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00523">covarianceGrayBlob_()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00300">uriVL::ImageRect::getBottom()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00285">uriVL::ImageRect::getLeft()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00290">uriVL::ImageRect::getRight()</a>, <a class="el" href="RasterImage__gray_8cpp_source.html#l00359">uriVL::RasterImage_gray::getShiftedGray2D()</a>, <a class="el" href="ImageRect_8cpp_source.html#l00295">uriVL::ImageRect::getTop()</a>, <a class="el" href="movieProcessing__main_8cpp_source.html#l00162">grayImg</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">patternCorrScale_()</a>, <a class="el" href="Pattern2DMatchRecord_8cpp_source.html#l00072">uriVL::Pattern2DMatchRecord::setBestMatch()</a>, and <a class="el" href="Pattern2DMatchRecord_8cpp_source.html#l00066">uriVL::Pattern2DMatchRecord::setScore()</a>.</p>
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;{</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span>   iLow = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#a2715b0a7b291354fd839a95ece0e0aba">getTop</a>(),</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                iHigh = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#acb34c902550ecb25f7fa6ffb620aea71">getBottom</a>(),</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                jLow = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#a38bd531df6bd6c4892bca1a690feda13">getLeft</a>(),</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                jHigh = searchRect-&gt;<a class="code" href="classuriVL_1_1ImageRect.html#a89884bd1866a1b7ffb67d4cc1ec1a052">getRight</a>();</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <span class="keyword">const</span>* <a class="code" href="movieProcessing__main_8cpp.html#a70c4105fe7f14b6ea512c58b11e486c2">grayImg</a> = img-&gt;<a class="code" href="classuriVL_1_1RasterImage__gray.html#a837bf18ff95fcdd6268109f5aedb9dfa">getShiftedGray2D</a>();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordtype">float</span>   patCorrScale = 0.f,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            corr = 0.f,</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            corrScale = 0.f,</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            cov = 0.f,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            bestScore = -2;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordtype">int</span>     bestI=-1, bestJ=-1;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">//  Compute the pattern&#39;s correlation scale factor</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">patternCorrScale_</a>(patImg, patBlob, &amp;patCorrScale);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">//  For each possible location of the upper-left corner of the pattern</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=iLow; i&lt;=iHigh; i++)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=jLow; j&lt;=jHigh; j++)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="comment">//  compute the variance and scaling factor</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a528239ef8a365d5d0883787b7537647c">covarianceGrayBlob_</a>(grayImg, j, i, &amp;cov, &amp;corrScale);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                   </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="comment">//  Compute the actual correlation value and compare it to best so far</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            corr = cov * corrScale * patCorrScale;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">if</span> (corr &gt; bestScore)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                bestScore = corr;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                bestI = i;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                bestJ = j;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">//  At the end of the loop, we report the best correlation score and its location.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">//  Note that the &quot;best&quot; is not necessarily good.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    matchRecord-&gt;<a class="code" href="classuriVL_1_1Pattern2DMatchRecord.html#a0ccf42136aa9bff68077d6fbbe38a263">setScore</a>(bestScore);  </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    matchRecord-&gt;<a class="code" href="classuriVL_1_1Pattern2DMatchRecord.html#a1dcdf872a19a9518226928308e412adb">setBestMatch</a>(bestJ, bestI);       </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
<div class="ttc" id="movieProcessing__main_8cpp_html_a70c4105fe7f14b6ea512c58b11e486c2"><div class="ttname"><a href="movieProcessing__main_8cpp.html#a70c4105fe7f14b6ea512c58b11e486c2">grayImg</a></div><div class="ttdeci">RasterImage_gray * grayImg</div><div class="ttdef"><b>Definition:</b> <a href="movieProcessing__main_8cpp_source.html#l00162">movieProcessing_main.cpp:162</a></div></div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_a2715b0a7b291354fd839a95ece0e0aba"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#a2715b0a7b291354fd839a95ece0e0aba">uriVL::ImageRect::getTop</a></div><div class="ttdeci">int getTop(void) const </div><div class="ttdoc">Returns the minimum y coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00295">ImageRect.cpp:295</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a528239ef8a365d5d0883787b7537647c"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a528239ef8a365d5d0883787b7537647c">uriVL::PatternMatcher2D_scaledDiff::covarianceGrayBlob_</a></div><div class="ttdeci">void covarianceGrayBlob_(const unsigned char *const *grayImg, int x, int y, float *cov, float *corrScale)</div><div class="ttdoc">Computes the correlation score between a blob pattern and an image at the location indicated...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00523">PatternMatcher2D_scaledDiff.cpp:523</a></div></div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_a89884bd1866a1b7ffb67d4cc1ec1a052"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#a89884bd1866a1b7ffb67d4cc1ec1a052">uriVL::ImageRect::getRight</a></div><div class="ttdeci">int getRight(void) const </div><div class="ttdoc">Returns the maximum x coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00290">ImageRect.cpp:290</a></div></div>
<div class="ttc" id="classuriVL_1_1Pattern2DMatchRecord_html_a1dcdf872a19a9518226928308e412adb"><div class="ttname"><a href="classuriVL_1_1Pattern2DMatchRecord.html#a1dcdf872a19a9518226928308e412adb">uriVL::Pattern2DMatchRecord::setBestMatch</a></div><div class="ttdeci">void setBestMatch(int x, int y)</div><div class="ttdoc">Sets the coordinates of the best match. </div><div class="ttdef"><b>Definition:</b> <a href="Pattern2DMatchRecord_8cpp_source.html#l00072">Pattern2DMatchRecord.cpp:72</a></div></div>
<div class="ttc" id="classuriVL_1_1Pattern2DMatchRecord_html_a0ccf42136aa9bff68077d6fbbe38a263"><div class="ttname"><a href="classuriVL_1_1Pattern2DMatchRecord.html#a0ccf42136aa9bff68077d6fbbe38a263">uriVL::Pattern2DMatchRecord::setScore</a></div><div class="ttdeci">void setScore(float score)</div><div class="ttdoc">Sets the score. </div><div class="ttdef"><b>Definition:</b> <a href="Pattern2DMatchRecord_8cpp_source.html#l00066">Pattern2DMatchRecord.cpp:66</a></div></div>
<div class="ttc" id="classuriVL_1_1RasterImage__gray_html_a837bf18ff95fcdd6268109f5aedb9dfa"><div class="ttname"><a href="classuriVL_1_1RasterImage__gray.html#a837bf18ff95fcdd6268109f5aedb9dfa">uriVL::RasterImage_gray::getShiftedGray2D</a></div><div class="ttdeci">virtual const unsigned char *const * getShiftedGray2D(void) const </div><div class="ttdoc">Returns the shifted 8-bit gray-level base raster as a read-only 2D array. </div><div class="ttdef"><b>Definition:</b> <a href="RasterImage__gray_8cpp_source.html#l00359">RasterImage_gray.cpp:359</a></div></div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_acb34c902550ecb25f7fa6ffb620aea71"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#acb34c902550ecb25f7fa6ffb620aea71">uriVL::ImageRect::getBottom</a></div><div class="ttdeci">int getBottom(void) const </div><div class="ttdoc">Returns the maximum y coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00300">ImageRect.cpp:300</a></div></div>
<div class="ttc" id="classuriVL_1_1ImageRect_html_a38bd531df6bd6c4892bca1a690feda13"><div class="ttname"><a href="classuriVL_1_1ImageRect.html#a38bd531df6bd6c4892bca1a690feda13">uriVL::ImageRect::getLeft</a></div><div class="ttdeci">int getLeft(void) const </div><div class="ttdoc">Returns the minimum x coordinate of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="ImageRect_8cpp_source.html#l00285">ImageRect.cpp:285</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a197f4bd3c365d017f8bfe48c84877562"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">uriVL::PatternMatcher2D_scaledDiff::patternCorrScale_</a></div><div class="ttdeci">void patternCorrScale_(const RasterImage_RGBa *patImg, float *patCorrScale)</div><div class="ttdoc">Computes the correlation scaling factor and expected color intensity values for the pattern...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">PatternMatcher2D_scaledDiff.cpp:621</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_ad1b443fcfeb36bc1b3c4f8ce6bf43adb_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_ad1b443fcfeb36bc1b3c4f8ce6bf43adb_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_ad1b443fcfeb36bc1b3c4f8ce6bf43adb_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_ad1b443fcfeb36bc1b3c4f8ce6bf43adb_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac31bba0de324a2bd7c2d774b45fb43ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a> * PatternMatcher2D_scaledDiff::newPattern2DMatchRecord_ </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates a <a class="el" href="classuriVL_1_1Pattern2DMatchRecord.html" title="Holds the records of a 2D matching result. ">Pattern2DMatchRecord</a> that has the proper subtype for the matcher. </p>
<dl class="section return"><dt>Returns</dt><dd>a match recordthat has the proper subtype for the matcher </dd></dl>

<p>Implements <a class="el" href="classuriVL_1_1PatternMatcher2D.html#a58cf7f85fbb4d8a26bd2f55a49a5864d">uriVL::PatternMatcher2D</a>.</p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00828">828</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;{</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="comment">//  the correlaton matcher only requires a generic match record</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classuriVL_1_1Pattern2DMatchRecord.html">Pattern2DMatchRecord</a>();</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1Pattern2DMatchRecord_html"><div class="ttname"><a href="classuriVL_1_1Pattern2DMatchRecord.html">uriVL::Pattern2DMatchRecord</a></div><div class="ttdoc">Holds the records of a 2D matching result. </div><div class="ttdef"><b>Definition:</b> <a href="Pattern2DMatchRecord_8h_source.html#l00039">Pattern2DMatchRecord.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1f73507a2576bff79cce60d686b56b31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::patternCorrScale </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *&#160;</td>
          <td class="paramname"><em>patImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>patCorrScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the correlation scaling factor and expected color intensity values for the pattern. </p>
<p>The expected values are kept stored in this object and will be used to compute the variance. The scale factor should be used to multiply the result of the covariance if the correlation coefficient is desired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patImg</td><td>the rectangular image pattern to compute the scale factor for. </td></tr>
    <tr><td class="paramname">patCorrScale</td><td>the correlation scaling factors for the pattern </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00562">562</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="ErrorReport_8h_source.html#l00245">FAIL_CONDITION</a>, <a class="el" href="ErrorReport_8h_source.html#l00040">uriVL::kNullParameterError</a>, <a class="el" href="ErrorReport_8h_source.html#l00057">uriVL::kNullRasterImageError</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">patternCorrScale_()</a>.</p>
<div class="fragment"><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;{</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     patImg == NULL,</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6">kNullRasterImageError</a>,</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                    <span class="stringliteral">&quot;NULL pattern passed as parameter to PatternMatcher2D_scaledDiff::patternCorrScale&quot;</span>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     patCorrScale == NULL,</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">kNullParameterError</a>,</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    <span class="stringliteral">&quot;NULL correlation scale array sent to PatternMatcher2D_scaledDiff::patternCorrScale&quot;</span>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">patternCorrScale_</a>(patImg, patCorrScale);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;}</div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">uriVL::kNullParameterError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00040">ErrorReport.h:40</a></div></div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6">uriVL::kNullRasterImageError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00057">ErrorReport.h:57</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a197f4bd3c365d017f8bfe48c84877562"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">uriVL::PatternMatcher2D_scaledDiff::patternCorrScale_</a></div><div class="ttdeci">void patternCorrScale_(const RasterImage_RGBa *patImg, float *patCorrScale)</div><div class="ttdoc">Computes the correlation scaling factor and expected color intensity values for the pattern...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">PatternMatcher2D_scaledDiff.cpp:621</a></div></div>
<div class="ttc" id="ErrorReport_8h_html_aec1700420d31610bd52383237d0a2700"><div class="ttname"><a href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a></div><div class="ttdeci">#define FAIL_CONDITION(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00245">ErrorReport.h:245</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_a1f73507a2576bff79cce60d686b56b31_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_a1f73507a2576bff79cce60d686b56b31_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_a1f73507a2576bff79cce60d686b56b31_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_a1f73507a2576bff79cce60d686b56b31_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad3ef5efe310df5ce1ffb6164b6d5f4f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::patternCorrScale </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *&#160;</td>
          <td class="paramname"><em>patImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>patCorrScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the correlation scaling factor and expected gray intensity value for the pattern. </p>
<p>The expected value is kept stored in this object and will be used to compute the variance. The scale factor should be used to multiply the result of the covariance if the correlation coefficient is desired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patImg</td><td>the rectangular image pattern to compute the scale factor for. </td></tr>
    <tr><td class="paramname">patCorrScale</td><td>the correlation scaling factor for the pattern </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00574">574</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="ErrorReport_8h_source.html#l00245">FAIL_CONDITION</a>, <a class="el" href="ErrorReport_8h_source.html#l00040">uriVL::kNullParameterError</a>, <a class="el" href="ErrorReport_8h_source.html#l00057">uriVL::kNullRasterImageError</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">patternCorrScale_()</a>.</p>
<div class="fragment"><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;{</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     patImg == NULL,</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6">kNullRasterImageError</a>,</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    <span class="stringliteral">&quot;NULL pattern passed as parameter to PatternMatcher2D_scaledDiff::patternCorrScale&quot;</span>);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     patCorrScale == NULL,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">kNullParameterError</a>,</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                    <span class="stringliteral">&quot;NULL correlation scale array sent to PatternMatcher2D_scaledDiff::patternCorrScale&quot;</span>);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">patternCorrScale_</a>(patImg, patCorrScale);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;}</div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">uriVL::kNullParameterError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00040">ErrorReport.h:40</a></div></div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6">uriVL::kNullRasterImageError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00057">ErrorReport.h:57</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a197f4bd3c365d017f8bfe48c84877562"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">uriVL::PatternMatcher2D_scaledDiff::patternCorrScale_</a></div><div class="ttdeci">void patternCorrScale_(const RasterImage_RGBa *patImg, float *patCorrScale)</div><div class="ttdoc">Computes the correlation scaling factor and expected color intensity values for the pattern...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">PatternMatcher2D_scaledDiff.cpp:621</a></div></div>
<div class="ttc" id="ErrorReport_8h_html_aec1700420d31610bd52383237d0a2700"><div class="ttname"><a href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a></div><div class="ttdeci">#define FAIL_CONDITION(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00245">ErrorReport.h:245</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_ad3ef5efe310df5ce1ffb6164b6d5f4f0_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_ad3ef5efe310df5ce1ffb6164b6d5f4f0_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_ad3ef5efe310df5ce1ffb6164b6d5f4f0_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_ad3ef5efe310df5ce1ffb6164b6d5f4f0_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaca559b1fd42864e2afec1b31a4a8e48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::patternCorrScale </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *&#160;</td>
          <td class="paramname"><em>patImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *&#160;</td>
          <td class="paramname"><em>patBlob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>patCorrScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the correlation scaling factor and expected color intensity values for the pattern. </p>
<p>The expected values are kept stored in this object and will be used to compute the variance. The scale factor should be used to multiply the result of the covariance if the correlation coefficient is desired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patImg</td><td>the blob image pattern to compute the scale factor for. </td></tr>
    <tr><td class="paramname">patBlob</td><td>the blob that defines the actual geometry of the pattern </td></tr>
    <tr><td class="paramname">patCorrScale</td><td>the correlation scaling factors for the pattern </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00586">586</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="ErrorReport_8h_source.html#l00245">FAIL_CONDITION</a>, <a class="el" href="ErrorReport_8h_source.html#l00040">uriVL::kNullParameterError</a>, <a class="el" href="ErrorReport_8h_source.html#l00057">uriVL::kNullRasterImageError</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">patternCorrScale_()</a>.</p>
<div class="fragment"><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;{</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     patImg == NULL,</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6">kNullRasterImageError</a>,</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    <span class="stringliteral">&quot;NULL pattern passed as parameter to PatternMatcher2D_scaledDiff::patternCorrScale&quot;</span>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     patCorrScale == NULL,</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">kNullParameterError</a>,</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                    <span class="stringliteral">&quot;NULL correlation scale array sent to PatternMatcher2D_scaledDiff::patternCorrScale&quot;</span>);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">if</span> (patBlob == NULL)        </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">patternCorrScale_</a>(patImg, patCorrScale);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">patternCorrScale_</a>(patImg, patBlob, patCorrScale);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">uriVL::kNullParameterError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00040">ErrorReport.h:40</a></div></div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6">uriVL::kNullRasterImageError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00057">ErrorReport.h:57</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a197f4bd3c365d017f8bfe48c84877562"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">uriVL::PatternMatcher2D_scaledDiff::patternCorrScale_</a></div><div class="ttdeci">void patternCorrScale_(const RasterImage_RGBa *patImg, float *patCorrScale)</div><div class="ttdoc">Computes the correlation scaling factor and expected color intensity values for the pattern...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">PatternMatcher2D_scaledDiff.cpp:621</a></div></div>
<div class="ttc" id="ErrorReport_8h_html_aec1700420d31610bd52383237d0a2700"><div class="ttname"><a href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a></div><div class="ttdeci">#define FAIL_CONDITION(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00245">ErrorReport.h:245</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_aaca559b1fd42864e2afec1b31a4a8e48_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_aaca559b1fd42864e2afec1b31a4a8e48_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_aaca559b1fd42864e2afec1b31a4a8e48_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_aaca559b1fd42864e2afec1b31a4a8e48_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af7e41a87cc27512ef21d2b31c45af3fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::patternCorrScale </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *&#160;</td>
          <td class="paramname"><em>patImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *&#160;</td>
          <td class="paramname"><em>patBlob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>patCorrScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the correlation scaling factor and expected gray intensity value for the pattern. </p>
<p>The expected value is kept stored in this object and will be used to compute the variance. The scale factor should be used to multiply the result of the covariance if the correlation coefficient is desired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patImg</td><td>the blob image pattern to compute the scale factor for. </td></tr>
    <tr><td class="paramname">patBlob</td><td>the blob that defines the actual geometry of the pattern </td></tr>
    <tr><td class="paramname">patCorrScale</td><td>the correlation scaling factor for the pattern </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00603">603</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="ErrorReport_8h_source.html#l00245">FAIL_CONDITION</a>, <a class="el" href="ErrorReport_8h_source.html#l00040">uriVL::kNullParameterError</a>, <a class="el" href="ErrorReport_8h_source.html#l00057">uriVL::kNullRasterImageError</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">patternCorrScale_()</a>.</p>
<div class="fragment"><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;{</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     patImg == NULL,</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6">kNullRasterImageError</a>,</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                    <span class="stringliteral">&quot;NULL pattern passed as parameter to PatternMatcher2D_scaledDiff::patternCorrScale&quot;</span>);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     patCorrScale == NULL,</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">kNullParameterError</a>,</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                    <span class="stringliteral">&quot;NULL correlation scale array sent to PatternMatcher2D_scaledDiff::patternCorrScale&quot;</span>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">if</span> (patBlob == NULL)        </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">patternCorrScale_</a>(patImg, patCorrScale);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">patternCorrScale_</a>(patImg, patBlob, patCorrScale);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;}</div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">uriVL::kNullParameterError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00040">ErrorReport.h:40</a></div></div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6">uriVL::kNullRasterImageError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00057">ErrorReport.h:57</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a197f4bd3c365d017f8bfe48c84877562"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a197f4bd3c365d017f8bfe48c84877562">uriVL::PatternMatcher2D_scaledDiff::patternCorrScale_</a></div><div class="ttdeci">void patternCorrScale_(const RasterImage_RGBa *patImg, float *patCorrScale)</div><div class="ttdoc">Computes the correlation scaling factor and expected color intensity values for the pattern...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">PatternMatcher2D_scaledDiff.cpp:621</a></div></div>
<div class="ttc" id="ErrorReport_8h_html_aec1700420d31610bd52383237d0a2700"><div class="ttname"><a href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a></div><div class="ttdeci">#define FAIL_CONDITION(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00245">ErrorReport.h:245</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_af7e41a87cc27512ef21d2b31c45af3fc_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_af7e41a87cc27512ef21d2b31c45af3fc_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_af7e41a87cc27512ef21d2b31c45af3fc_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_af7e41a87cc27512ef21d2b31c45af3fc_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a197f4bd3c365d017f8bfe48c84877562"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::patternCorrScale_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *&#160;</td>
          <td class="paramname"><em>patImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>patCorrScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the correlation scaling factor and expected color intensity values for the pattern. </p>
<p>The expected values are to be used by the covariance computation function. The scale factor should be used to multiply the result of the covariance if the correlation coefficient is desired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patImg</td><td>the rectangular image pattern to compute the scale factor for. </td></tr>
    <tr><td class="paramname">patCorrScale</td><td>the correlation scaling factors for the pattern </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">621</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="RasterImage__RGBa_8cpp_source.html#l00322">uriVL::RasterImage_RGBa::getRGBa2D()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00193">patExp_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">patHeight_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">patWidth_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00184">rgbaPat_</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00059">setPattern()</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00087">match_()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00562">patternCorrScale()</a>.</p>
<div class="fragment"><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;{</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ac741fac680906101cabe62490ac27c34">setPattern</a>(patImg);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <span class="keyword">const</span>* rgbaPat = patImg-&gt;<a class="code" href="classuriVL_1_1RasterImage__RGBa.html#a1106388abf1f1bc212e6e305567381cb">getRGBa2D</a>();</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span>   nbPatPixels = <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a> * <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> nbPixelsScale = 1.f / nbPatPixels;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="comment">//  Calculate normalizing factor for the pattern.  I know that we are off by a factor</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="comment">//  of 1/sqrt(nbPixels).   I correct that when I multiply the two scaling factors</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordtype">float</span>   patRedSum = 0, patRedSumSq = 0;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordtype">float</span>   patGreenSum = 0, patGreenSumSq = 0;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordtype">float</span>   patBlueSum = 0, patBlueSumSq = 0;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0; kP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++)</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0, fourLP=0; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++, fourLP+=2)</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="comment">//  red component</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            patRedSum += rgbaPat[kP][fourLP];</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            patRedSumSq += rgbaPat[kP][fourLP]*rgbaPat[kP][fourLP];</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="comment">//  green component</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            patGreenSum += rgbaPat[kP][++fourLP];</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            patGreenSumSq += rgbaPat[kP][fourLP]*rgbaPat[kP][fourLP];</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <span class="comment">//  blue component</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            patBlueSum += rgbaPat[kP][++fourLP];</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            patBlueSumSq += rgbaPat[kP][fourLP]*rgbaPat[kP][fourLP];</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0] = patRedSum * nbPixelsScale;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    patCorrScale[0] = 1.f / sqrtf(patRedSumSq*nbPixelsScale - <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0]*<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0]);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[1] = patGreenSum * nbPixelsScale;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    patCorrScale[1] = 1.f / sqrtf(patGreenSumSq*nbPixelsScale - <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[1]*<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[1]);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[2] = patBlueSum * nbPixelsScale;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    patCorrScale[2] = 1.f / sqrtf(patBlueSumSq*nbPixelsScale - <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[2]*<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[2]);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">//  copy pattern data shifted by mean value</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0; kP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++)</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0, fourLP=0; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++, fourLP++)</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a>[kP][lP][0] = rgbaPat[kP][fourLP++] - <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0];</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a>[kP][lP][1] = rgbaPat[kP][fourLP++] - patExp_[1];</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a>[kP][lP][2] = rgbaPat[kP][fourLP++] - patExp_[2];</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a738a5f4c695a9c476c32c18981f3db13"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">uriVL::PatternMatcher2D_scaledDiff::patExp_</a></div><div class="ttdeci">float * patExp_</div><div class="ttdoc">Expected value(s) of the pattern raster. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00193">PatternMatcher2D_scaledDiff.h:193</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af8f7db12f2a541d603e3964415a4ae09"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">uriVL::PatternMatcher2D_scaledDiff::patHeight_</a></div><div class="ttdeci">int patHeight_</div><div class="ttdoc">Height of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">PatternMatcher2D_scaledDiff.h:201</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a2fb1eee81e0dae704e7c4723c5aa7bde"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">uriVL::PatternMatcher2D_scaledDiff::rgbaPat_</a></div><div class="ttdeci">float *** rgbaPat_</div><div class="ttdoc">copy of a color rgba pattern&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00184">PatternMatcher2D_scaledDiff.h:184</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_ac741fac680906101cabe62490ac27c34"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ac741fac680906101cabe62490ac27c34">uriVL::PatternMatcher2D_scaledDiff::setPattern</a></div><div class="ttdeci">void setPattern(const RasterImage *patImg, const Blob *patBlob=NULL)</div><div class="ttdoc">Called to define the pattern used for subsequent covariance calculations. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00059">PatternMatcher2D_scaledDiff.cpp:59</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a3d9a842b56a15c407e97f1cbb7995d6f"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">uriVL::PatternMatcher2D_scaledDiff::patWidth_</a></div><div class="ttdeci">int patWidth_</div><div class="ttdoc">Width of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">PatternMatcher2D_scaledDiff.h:197</a></div></div>
<div class="ttc" id="classuriVL_1_1RasterImage__RGBa_html_a1106388abf1f1bc212e6e305567381cb"><div class="ttname"><a href="classuriVL_1_1RasterImage__RGBa.html#a1106388abf1f1bc212e6e305567381cb">uriVL::RasterImage_RGBa::getRGBa2D</a></div><div class="ttdeci">virtual const unsigned char *const * getRGBa2D(void) const </div><div class="ttdoc">Returns the 0-based 32-bit rgba base raster as a read-only 2D array. </div><div class="ttdef"><b>Definition:</b> <a href="RasterImage__RGBa_8cpp_source.html#l00322">RasterImage_RGBa.cpp:322</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_a197f4bd3c365d017f8bfe48c84877562_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_a197f4bd3c365d017f8bfe48c84877562_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_a197f4bd3c365d017f8bfe48c84877562_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_a197f4bd3c365d017f8bfe48c84877562_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af895cc020a26659ae6b40a6924fefa77"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::patternCorrScale_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *&#160;</td>
          <td class="paramname"><em>patImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>patCorrScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the correlation scaling factor and expected gray intensity value for the pattern. </p>
<p>The expected value is to be used by the covariance computation function. The scale factor should be used to multiply the result of the covariance if the correlation coefficient is desired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patImg</td><td>the rectangular image pattern to compute the scale factor for. </td></tr>
    <tr><td class="paramname">patCorrScale</td><td>the correlation scaling factor for the pattern </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00666">666</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="RasterImage__gray_8cpp_source.html#l00335">uriVL::RasterImage_gray::getGray2D()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00176">grayPat_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00193">patExp_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">patHeight_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">patWidth_</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00059">setPattern()</a>.</p>
<div class="fragment"><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;{</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ac741fac680906101cabe62490ac27c34">setPattern</a>(patImg);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <span class="keyword">const</span>* grayPat = patImg-&gt;<a class="code" href="classuriVL_1_1RasterImage__gray.html#a85f4a3bce252bf97151bfd9675437c23">getGray2D</a>();</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span>   nbPatPixels = <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a> * <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> nbPixelsScale = 1.f / nbPatPixels;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="comment">//  Calculate normalizing factor for the pattern.</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordtype">float</span>   patSum = 0, patSumSq = 0;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0; kP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++)</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++)</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            patSum += grayPat[kP][lP];</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            patSumSq += grayPat[kP][lP]*grayPat[kP][lP];</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0] = patSum * nbPixelsScale;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    *patCorrScale = 1.f / sqrtf(patSumSq*nbPixelsScale - <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0]*<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0]);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="comment">//  copy pattern data shifted by mean value</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0; kP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++)</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a9b7d0d9b09ed77af554d3d263a04f139">grayPat_</a>[kP][lP] = grayPat[kP][lP] - <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0];</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a738a5f4c695a9c476c32c18981f3db13"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">uriVL::PatternMatcher2D_scaledDiff::patExp_</a></div><div class="ttdeci">float * patExp_</div><div class="ttdoc">Expected value(s) of the pattern raster. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00193">PatternMatcher2D_scaledDiff.h:193</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af8f7db12f2a541d603e3964415a4ae09"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">uriVL::PatternMatcher2D_scaledDiff::patHeight_</a></div><div class="ttdeci">int patHeight_</div><div class="ttdoc">Height of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">PatternMatcher2D_scaledDiff.h:201</a></div></div>
<div class="ttc" id="classuriVL_1_1RasterImage__gray_html_a85f4a3bce252bf97151bfd9675437c23"><div class="ttname"><a href="classuriVL_1_1RasterImage__gray.html#a85f4a3bce252bf97151bfd9675437c23">uriVL::RasterImage_gray::getGray2D</a></div><div class="ttdeci">virtual const unsigned char *const * getGray2D(void) const </div><div class="ttdoc">Returns the 8-bit gray-level base raster as a read-only 2D array. </div><div class="ttdef"><b>Definition:</b> <a href="RasterImage__gray_8cpp_source.html#l00335">RasterImage_gray.cpp:335</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_ac741fac680906101cabe62490ac27c34"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ac741fac680906101cabe62490ac27c34">uriVL::PatternMatcher2D_scaledDiff::setPattern</a></div><div class="ttdeci">void setPattern(const RasterImage *patImg, const Blob *patBlob=NULL)</div><div class="ttdoc">Called to define the pattern used for subsequent covariance calculations. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00059">PatternMatcher2D_scaledDiff.cpp:59</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a9b7d0d9b09ed77af554d3d263a04f139"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a9b7d0d9b09ed77af554d3d263a04f139">uriVL::PatternMatcher2D_scaledDiff::grayPat_</a></div><div class="ttdeci">float ** grayPat_</div><div class="ttdoc">copy of a gray-level pattern&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00176">PatternMatcher2D_scaledDiff.h:176</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a3d9a842b56a15c407e97f1cbb7995d6f"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">uriVL::PatternMatcher2D_scaledDiff::patWidth_</a></div><div class="ttdeci">int patWidth_</div><div class="ttdoc">Width of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">PatternMatcher2D_scaledDiff.h:197</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_af895cc020a26659ae6b40a6924fefa77_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_af895cc020a26659ae6b40a6924fefa77_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_af895cc020a26659ae6b40a6924fefa77_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_af895cc020a26659ae6b40a6924fefa77_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a527e419ab63b477a1d4eb7e3c2587dc3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::patternCorrScale_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__RGBa.html">RasterImage_RGBa</a> *&#160;</td>
          <td class="paramname"><em>patImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *&#160;</td>
          <td class="paramname"><em>patBlob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>patCorrScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the correlation scaling factor and expected color intensity values for the pattern. </p>
<p>The expected values are to be used by the covariance computation function. The scale factor should be used to multiply the result of the covariance if the correlation coefficient is desired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patImg</td><td>the blob image pattern to compute the scale factor for. </td></tr>
    <tr><td class="paramname">patBlob</td><td>the blob that defines the actual geometry of the pattern </td></tr>
    <tr><td class="paramname">patCorrScale</td><td>the correlation scaling factors for the pattern </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00693">693</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="Blob_8cpp_source.html#l00657">uriVL::Blob::getNbPixels()</a>, <a class="el" href="RasterImage__RGBa_8cpp_source.html#l00322">uriVL::RasterImage_RGBa::getRGBa2D()</a>, <a class="el" href="Blob_8cpp_source.html#l00672">uriVL::Blob::getSegDeque()</a>, <a class="el" href="Blob_8h_source.html#l00055">uriVL::HorizontalSegment::leftX</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00193">patExp_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">patHeight_</a>, <a class="el" href="PatternMatcher2D_8h_source.html#l00243">uriVL::PatternMatcher2D::patMask_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">patWidth_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00184">rgbaPat_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00059">setPattern()</a>, and <a class="el" href="Blob_8h_source.html#l00057">uriVL::HorizontalSegment::y</a>.</p>
<div class="fragment"><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;{</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ac741fac680906101cabe62490ac27c34">setPattern</a>(patImg, patBlob);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <span class="keyword">const</span>* rgbaPat = patImg-&gt;<a class="code" href="classuriVL_1_1RasterImage__RGBa.html#a1106388abf1f1bc212e6e305567381cb">getRGBa2D</a>();</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span>   nbPatPixels = patBlob-&gt;<a class="code" href="classuriVL_1_1Blob.html#a4a9a92f34764607a19a494e302f9f936">getNbPixels</a>();</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> nbPixelsScale = 1.f / nbPatPixels;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="comment">//  First, reset the pattern mask</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0; kP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            <a class="code" href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">patMask_</a>[kP][lP] = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) 0;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <span class="comment">//      Then go through the deque-list structure</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespaceuriVL.html#a117e7c964a52fb54d0b8cbcfb6514a73">LineSegDeque</a> segDeque = patBlob-&gt;<a class="code" href="classuriVL_1_1Blob.html#a2075d06742e561d4d0c547bb8a5b3b59">getSegDeque</a>();</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="structuriVL_1_1HorizontalSegment.html">HorizontalSegment</a>   *theSeg;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordtype">float</span>   patRedSum = 0, patRedSumSq = 0;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordtype">float</span>   patGreenSum = 0, patGreenSumSq = 0;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordtype">float</span>   patBlueSum = 0, patBlueSumSq = 0;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="comment">//  Calculate normalizing factor for the pattern.  </span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    LineSegDeque::const_iterator lastLine = segDeque.end();</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">for</span> (LineSegDeque::const_iterator lineIter = segDeque.begin(); lineIter != lastLine; lineIter++)</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        list&lt;HorizontalSegment*&gt;::const_iterator lastSeg = (*lineIter)-&gt;end();</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <span class="keywordflow">for</span> (list&lt;HorizontalSegment*&gt;::const_iterator segIter = (*lineIter)-&gt;begin(); segIter != lastSeg; segIter++)</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            theSeg = (*segIter);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <span class="keywordtype">int</span> kP = theSeg-&gt;<a class="code" href="structuriVL_1_1HorizontalSegment.html#ad7ae4058dd06dc3422da73aa27b7bd9e">y</a>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP = theSeg-&gt;<a class="code" href="structuriVL_1_1HorizontalSegment.html#af1f1c85571cdf606bd0f740e2a7f51f5">leftX</a>, fourLP=4*lP; lP&lt;=theSeg-&gt;rightX; lP++, fourLP+=2)</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                <span class="comment">//  red component</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                patRedSum += rgbaPat[kP][fourLP];</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                patRedSumSq += rgbaPat[kP][fourLP]*rgbaPat[kP][fourLP];</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                <span class="comment">//  green component</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                patGreenSum += rgbaPat[kP][++fourLP];</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                patGreenSumSq += rgbaPat[kP][fourLP]*rgbaPat[kP][fourLP];</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                <span class="comment">//  blue component</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                patBlueSum += rgbaPat[kP][++fourLP];</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                patBlueSumSq += rgbaPat[kP][fourLP]*rgbaPat[kP][fourLP];</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                <a class="code" href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">patMask_</a>[kP][lP] = (<span class="keywordtype">unsigned</span> char) 1;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0] = patRedSum * nbPixelsScale;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    patCorrScale[0] = 1.f / sqrtf(patRedSumSq*nbPixelsScale - <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0]*<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0]);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[1] = patGreenSum * nbPixelsScale;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    patCorrScale[1] = 1.f / sqrtf(patGreenSumSq*nbPixelsScale - <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[1]*<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[1]);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[2] = patBlueSum * nbPixelsScale;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    patCorrScale[2] = 1.f / sqrtf(patBlueSumSq*nbPixelsScale - <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[2]*<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[2]);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="keywordtype">float</span> sumRed = 0;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">//cout &lt;&lt; &quot;patCorrScale  &quot;;</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="comment">//  copy pattern data shifted by mean value.  I think it is probably faster to</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="comment">//  apply the shift over the entire bounding rectangle than to check the mask</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0; kP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++)</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0, fourLP=0; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++, fourLP++)</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a>[kP][lP][0] = rgbaPat[kP][fourLP++] - <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0];</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a>[kP][lP][1] = rgbaPat[kP][fourLP++] - patExp_[1];</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a>[kP][lP][2] = rgbaPat[kP][fourLP++] - patExp_[2];</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">patMask_</a>[kP][lP]) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                sumRed += <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">rgbaPat_</a>[kP][lP][0];</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">//                cout &lt;&lt; rgbaPat_[kP][lP][0] &lt;&lt; &quot; &quot;;</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">//    cout &lt;&lt; endl &lt;&lt; &quot;sumRed = &quot; &lt;&lt; sumRed &lt;&lt; endl;</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a738a5f4c695a9c476c32c18981f3db13"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">uriVL::PatternMatcher2D_scaledDiff::patExp_</a></div><div class="ttdeci">float * patExp_</div><div class="ttdoc">Expected value(s) of the pattern raster. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00193">PatternMatcher2D_scaledDiff.h:193</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af8f7db12f2a541d603e3964415a4ae09"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">uriVL::PatternMatcher2D_scaledDiff::patHeight_</a></div><div class="ttdeci">int patHeight_</div><div class="ttdoc">Height of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">PatternMatcher2D_scaledDiff.h:201</a></div></div>
<div class="ttc" id="structuriVL_1_1HorizontalSegment_html_ad7ae4058dd06dc3422da73aa27b7bd9e"><div class="ttname"><a href="structuriVL_1_1HorizontalSegment.html#ad7ae4058dd06dc3422da73aa27b7bd9e">uriVL::HorizontalSegment::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="Blob_8h_source.html#l00057">Blob.h:57</a></div></div>
<div class="ttc" id="classuriVL_1_1Blob_html_a2075d06742e561d4d0c547bb8a5b3b59"><div class="ttname"><a href="classuriVL_1_1Blob.html#a2075d06742e561d4d0c547bb8a5b3b59">uriVL::Blob::getSegDeque</a></div><div class="ttdeci">const LineSegDeque &amp; getSegDeque(void) const </div><div class="ttdoc">returns a read-only reference to this blob&#39;s private segments structure. </div><div class="ttdef"><b>Definition:</b> <a href="Blob_8cpp_source.html#l00672">Blob.cpp:672</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a2fb1eee81e0dae704e7c4723c5aa7bde"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2fb1eee81e0dae704e7c4723c5aa7bde">uriVL::PatternMatcher2D_scaledDiff::rgbaPat_</a></div><div class="ttdeci">float *** rgbaPat_</div><div class="ttdoc">copy of a color rgba pattern&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00184">PatternMatcher2D_scaledDiff.h:184</a></div></div>
<div class="ttc" id="classuriVL_1_1Blob_html_a4a9a92f34764607a19a494e302f9f936"><div class="ttname"><a href="classuriVL_1_1Blob.html#a4a9a92f34764607a19a494e302f9f936">uriVL::Blob::getNbPixels</a></div><div class="ttdeci">long getNbPixels(void) const </div><div class="ttdoc">Returns the total number of pixels in the blob. </div><div class="ttdef"><b>Definition:</b> <a href="Blob_8cpp_source.html#l00657">Blob.cpp:657</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D_html_a6f96fae6655b0ef089de23888ba45149"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">uriVL::PatternMatcher2D::patMask_</a></div><div class="ttdeci">unsigned char ** patMask_</div><div class="ttdoc">mask corresponding to the part of the pattern&#39;s bounding box to be used for matching calculations...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D_8h_source.html#l00243">PatternMatcher2D.h:243</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_ac741fac680906101cabe62490ac27c34"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ac741fac680906101cabe62490ac27c34">uriVL::PatternMatcher2D_scaledDiff::setPattern</a></div><div class="ttdeci">void setPattern(const RasterImage *patImg, const Blob *patBlob=NULL)</div><div class="ttdoc">Called to define the pattern used for subsequent covariance calculations. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00059">PatternMatcher2D_scaledDiff.cpp:59</a></div></div>
<div class="ttc" id="namespaceuriVL_html_a117e7c964a52fb54d0b8cbcfb6514a73"><div class="ttname"><a href="namespaceuriVL.html#a117e7c964a52fb54d0b8cbcfb6514a73">uriVL::LineSegDeque</a></div><div class="ttdeci">std::deque&lt; std::list&lt; HorizontalSegment * &gt; * &gt; LineSegDeque</div><div class="ttdoc">The data structure used to hold of the segments of a blob: A deque that store the data doe each line ...</div><div class="ttdef"><b>Definition:</b> <a href="Blob_8h_source.html#l00074">Blob.h:74</a></div></div>
<div class="ttc" id="structuriVL_1_1HorizontalSegment_html_af1f1c85571cdf606bd0f740e2a7f51f5"><div class="ttname"><a href="structuriVL_1_1HorizontalSegment.html#af1f1c85571cdf606bd0f740e2a7f51f5">uriVL::HorizontalSegment::leftX</a></div><div class="ttdeci">int leftX</div><div class="ttdef"><b>Definition:</b> <a href="Blob_8h_source.html#l00055">Blob.h:55</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a3d9a842b56a15c407e97f1cbb7995d6f"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">uriVL::PatternMatcher2D_scaledDiff::patWidth_</a></div><div class="ttdeci">int patWidth_</div><div class="ttdoc">Width of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">PatternMatcher2D_scaledDiff.h:197</a></div></div>
<div class="ttc" id="classuriVL_1_1RasterImage__RGBa_html_a1106388abf1f1bc212e6e305567381cb"><div class="ttname"><a href="classuriVL_1_1RasterImage__RGBa.html#a1106388abf1f1bc212e6e305567381cb">uriVL::RasterImage_RGBa::getRGBa2D</a></div><div class="ttdeci">virtual const unsigned char *const * getRGBa2D(void) const </div><div class="ttdoc">Returns the 0-based 32-bit rgba base raster as a read-only 2D array. </div><div class="ttdef"><b>Definition:</b> <a href="RasterImage__RGBa_8cpp_source.html#l00322">RasterImage_RGBa.cpp:322</a></div></div>
<div class="ttc" id="structuriVL_1_1HorizontalSegment_html"><div class="ttname"><a href="structuriVL_1_1HorizontalSegment.html">uriVL::HorizontalSegment</a></div><div class="ttdoc">This is the data structure returned by the filling algorithm: a linked list of horizontal segments co...</div><div class="ttdef"><b>Definition:</b> <a href="Blob_8h_source.html#l00053">Blob.h:53</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_a527e419ab63b477a1d4eb7e3c2587dc3_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_a527e419ab63b477a1d4eb7e3c2587dc3_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_a527e419ab63b477a1d4eb7e3c2587dc3_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_a527e419ab63b477a1d4eb7e3c2587dc3_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0f820c928e2c35379c137fa59436a19a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::patternCorrScale_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage__gray.html">RasterImage_gray</a> *&#160;</td>
          <td class="paramname"><em>patImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *&#160;</td>
          <td class="paramname"><em>patBlob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>patCorrScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the correlation scaling factor and expected gray intensity value for the pattern. </p>
<p>The expected value is to be used by the covariance computation function. The scale factor should be used to multiply the result of the covariance if the correlation coefficient is desired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patImg</td><td>the blob image pattern to compute the scale factor for. </td></tr>
    <tr><td class="paramname">patBlob</td><td>the blob that defines the actual geometry of the pattern </td></tr>
    <tr><td class="paramname">patCorrScale</td><td>the correlation scaling factor for the pattern </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00768">768</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="RasterImage__gray_8cpp_source.html#l00335">uriVL::RasterImage_gray::getGray2D()</a>, <a class="el" href="Blob_8cpp_source.html#l00657">uriVL::Blob::getNbPixels()</a>, <a class="el" href="Blob_8cpp_source.html#l00672">uriVL::Blob::getSegDeque()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00176">grayPat_</a>, <a class="el" href="Blob_8h_source.html#l00055">uriVL::HorizontalSegment::leftX</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00193">patExp_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">patHeight_</a>, <a class="el" href="PatternMatcher2D_8h_source.html#l00243">uriVL::PatternMatcher2D::patMask_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">patWidth_</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00059">setPattern()</a>, and <a class="el" href="Blob_8h_source.html#l00057">uriVL::HorizontalSegment::y</a>.</p>
<div class="fragment"><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;{</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ac741fac680906101cabe62490ac27c34">setPattern</a>(patImg, patBlob);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <span class="keyword">const</span>* grayPat = patImg-&gt;<a class="code" href="classuriVL_1_1RasterImage__gray.html#a85f4a3bce252bf97151bfd9675437c23">getGray2D</a>();</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span>   nbPatPixels = patBlob-&gt;<a class="code" href="classuriVL_1_1Blob.html#a4a9a92f34764607a19a494e302f9f936">getNbPixels</a>();</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> nbPixelsScale = 1.f / nbPatPixels;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="comment">//  First, reset the pattern mask</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0; kP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++)</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <a class="code" href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">patMask_</a>[kP][lP] = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) 0;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="comment">//      Then go through the deque-list structure</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespaceuriVL.html#a117e7c964a52fb54d0b8cbcfb6514a73">LineSegDeque</a> segDeque = patBlob-&gt;<a class="code" href="classuriVL_1_1Blob.html#a2075d06742e561d4d0c547bb8a5b3b59">getSegDeque</a>();</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="structuriVL_1_1HorizontalSegment.html">HorizontalSegment</a>   *theSeg;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordtype">float</span>   patSum = 0.f, patSumSq = 0.f;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="comment">//  Calculate normalizing factor for the pattern.  I know that we are off by a factor</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="comment">//  of 1/sqrt(nbPixels).   I correct that when I multiply the two scaling factors</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    LineSegDeque::const_iterator lastLine = segDeque.end();</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">for</span> (LineSegDeque::const_iterator lineIter = segDeque.begin(); lineIter != lastLine; lineIter++)</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        list&lt;HorizontalSegment*&gt;::iterator  segIter, lastSeg = (*lineIter)-&gt;end();</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="keywordflow">for</span> (segIter = (*lineIter)-&gt;begin(); segIter != lastSeg; segIter++)</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            theSeg = (*segIter);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            <span class="keywordtype">int</span> kP = theSeg-&gt;<a class="code" href="structuriVL_1_1HorizontalSegment.html#ad7ae4058dd06dc3422da73aa27b7bd9e">y</a>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP = theSeg-&gt;<a class="code" href="structuriVL_1_1HorizontalSegment.html#af1f1c85571cdf606bd0f740e2a7f51f5">leftX</a>; lP&lt;=theSeg-&gt;rightX; lP++)</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                patSum += grayPat[kP][lP];</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                patSumSq += grayPat[kP][lP]*grayPat[kP][lP];</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                <a class="code" href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">patMask_</a>[kP][lP] = (<span class="keywordtype">unsigned</span> char) 1;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            }</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        }</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0] = patSum * nbPixelsScale;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    *patCorrScale = 1.f / sqrtf(patSumSq*nbPixelsScale - <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0]*<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0]);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">//  copy pattern data shifted by mean value.  I think it is probably faster to</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="comment">//  apply the shift over the entire bounding rectangle than to check the mask</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kP=0; kP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">patHeight_</a>; kP++)</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lP=0; lP&lt;<a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">patWidth_</a>; lP++)</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a9b7d0d9b09ed77af554d3d263a04f139">grayPat_</a>[kP][lP] = grayPat[kP][lP] - <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">patExp_</a>[0];</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a738a5f4c695a9c476c32c18981f3db13"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a738a5f4c695a9c476c32c18981f3db13">uriVL::PatternMatcher2D_scaledDiff::patExp_</a></div><div class="ttdeci">float * patExp_</div><div class="ttdoc">Expected value(s) of the pattern raster. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00193">PatternMatcher2D_scaledDiff.h:193</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_af8f7db12f2a541d603e3964415a4ae09"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#af8f7db12f2a541d603e3964415a4ae09">uriVL::PatternMatcher2D_scaledDiff::patHeight_</a></div><div class="ttdeci">int patHeight_</div><div class="ttdoc">Height of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">PatternMatcher2D_scaledDiff.h:201</a></div></div>
<div class="ttc" id="structuriVL_1_1HorizontalSegment_html_ad7ae4058dd06dc3422da73aa27b7bd9e"><div class="ttname"><a href="structuriVL_1_1HorizontalSegment.html#ad7ae4058dd06dc3422da73aa27b7bd9e">uriVL::HorizontalSegment::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="Blob_8h_source.html#l00057">Blob.h:57</a></div></div>
<div class="ttc" id="classuriVL_1_1RasterImage__gray_html_a85f4a3bce252bf97151bfd9675437c23"><div class="ttname"><a href="classuriVL_1_1RasterImage__gray.html#a85f4a3bce252bf97151bfd9675437c23">uriVL::RasterImage_gray::getGray2D</a></div><div class="ttdeci">virtual const unsigned char *const * getGray2D(void) const </div><div class="ttdoc">Returns the 8-bit gray-level base raster as a read-only 2D array. </div><div class="ttdef"><b>Definition:</b> <a href="RasterImage__gray_8cpp_source.html#l00335">RasterImage_gray.cpp:335</a></div></div>
<div class="ttc" id="classuriVL_1_1Blob_html_a2075d06742e561d4d0c547bb8a5b3b59"><div class="ttname"><a href="classuriVL_1_1Blob.html#a2075d06742e561d4d0c547bb8a5b3b59">uriVL::Blob::getSegDeque</a></div><div class="ttdeci">const LineSegDeque &amp; getSegDeque(void) const </div><div class="ttdoc">returns a read-only reference to this blob&#39;s private segments structure. </div><div class="ttdef"><b>Definition:</b> <a href="Blob_8cpp_source.html#l00672">Blob.cpp:672</a></div></div>
<div class="ttc" id="classuriVL_1_1Blob_html_a4a9a92f34764607a19a494e302f9f936"><div class="ttname"><a href="classuriVL_1_1Blob.html#a4a9a92f34764607a19a494e302f9f936">uriVL::Blob::getNbPixels</a></div><div class="ttdeci">long getNbPixels(void) const </div><div class="ttdoc">Returns the total number of pixels in the blob. </div><div class="ttdef"><b>Definition:</b> <a href="Blob_8cpp_source.html#l00657">Blob.cpp:657</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D_html_a6f96fae6655b0ef089de23888ba45149"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D.html#a6f96fae6655b0ef089de23888ba45149">uriVL::PatternMatcher2D::patMask_</a></div><div class="ttdeci">unsigned char ** patMask_</div><div class="ttdoc">mask corresponding to the part of the pattern&#39;s bounding box to be used for matching calculations...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D_8h_source.html#l00243">PatternMatcher2D.h:243</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_ac741fac680906101cabe62490ac27c34"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ac741fac680906101cabe62490ac27c34">uriVL::PatternMatcher2D_scaledDiff::setPattern</a></div><div class="ttdeci">void setPattern(const RasterImage *patImg, const Blob *patBlob=NULL)</div><div class="ttdoc">Called to define the pattern used for subsequent covariance calculations. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00059">PatternMatcher2D_scaledDiff.cpp:59</a></div></div>
<div class="ttc" id="namespaceuriVL_html_a117e7c964a52fb54d0b8cbcfb6514a73"><div class="ttname"><a href="namespaceuriVL.html#a117e7c964a52fb54d0b8cbcfb6514a73">uriVL::LineSegDeque</a></div><div class="ttdeci">std::deque&lt; std::list&lt; HorizontalSegment * &gt; * &gt; LineSegDeque</div><div class="ttdoc">The data structure used to hold of the segments of a blob: A deque that store the data doe each line ...</div><div class="ttdef"><b>Definition:</b> <a href="Blob_8h_source.html#l00074">Blob.h:74</a></div></div>
<div class="ttc" id="structuriVL_1_1HorizontalSegment_html_af1f1c85571cdf606bd0f740e2a7f51f5"><div class="ttname"><a href="structuriVL_1_1HorizontalSegment.html#af1f1c85571cdf606bd0f740e2a7f51f5">uriVL::HorizontalSegment::leftX</a></div><div class="ttdeci">int leftX</div><div class="ttdef"><b>Definition:</b> <a href="Blob_8h_source.html#l00055">Blob.h:55</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a9b7d0d9b09ed77af554d3d263a04f139"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a9b7d0d9b09ed77af554d3d263a04f139">uriVL::PatternMatcher2D_scaledDiff::grayPat_</a></div><div class="ttdeci">float ** grayPat_</div><div class="ttdoc">copy of a gray-level pattern&#39;s raster </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00176">PatternMatcher2D_scaledDiff.h:176</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a3d9a842b56a15c407e97f1cbb7995d6f"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a3d9a842b56a15c407e97f1cbb7995d6f">uriVL::PatternMatcher2D_scaledDiff::patWidth_</a></div><div class="ttdeci">int patWidth_</div><div class="ttdoc">Width of the temporary rasters currently alocated. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">PatternMatcher2D_scaledDiff.h:197</a></div></div>
<div class="ttc" id="structuriVL_1_1HorizontalSegment_html"><div class="ttname"><a href="structuriVL_1_1HorizontalSegment.html">uriVL::HorizontalSegment</a></div><div class="ttdoc">This is the data structure returned by the filling algorithm: a linked list of horizontal segments co...</div><div class="ttdef"><b>Definition:</b> <a href="Blob_8h_source.html#l00053">Blob.h:53</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_a0f820c928e2c35379c137fa59436a19a_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_a0f820c928e2c35379c137fa59436a19a_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_a0f820c928e2c35379c137fa59436a19a_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_a0f820c928e2c35379c137fa59436a19a_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8477d41694de6589482c3639440258e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uriVL::PatternMatcher2D_scaledDiff::setImage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called to define the image used for subsequent covariance calculations. </p>
<p>Currently, the image's base raster type should match that of the pattern (which implies that the pattern should have been set before this function is called) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>the image in which we seek a best match for the pattern </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ac741fac680906101cabe62490ac27c34" title="Called to define the pattern used for subsequent covariance calculations. ">setPattern</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac741fac680906101cabe62490ac27c34"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::setPattern </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a> *&#160;</td>
          <td class="paramname"><em>patImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1Blob.html">Blob</a> *&#160;</td>
          <td class="paramname"><em>patBlob</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called to define the pattern used for subsequent covariance calculations. </p>
<p>This function is called by the match_ function. It (and setImage) should be called prior to a call to <a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ae6ccb3bfd17ecaaea9c33795a577b248" title="Computes the correlation score between the pattern stored and an image at the location indicated...">covariance()</a>. Currently only RGBa and gray-level patterns are accepted. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patImg</td><td>the rectangular pattern we are seaking </td></tr>
    <tr><td class="paramname">patBlob</td><td>the blob that defines the actual geometry of the pattern </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classuriVL_1_1PatternMatcher2D.html#a0d72af670468967dfa349913580a7983">uriVL::PatternMatcher2D</a>.</p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00059">59</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00843">allocateRasters_()</a>, <a class="el" href="ErrorReport_8h_source.html#l00245">FAIL_CONDITION</a>, <a class="el" href="classuriVL_1_1RasterImage.html#a68815937f6a787e4541a33b108198baf">uriVL::RasterImage::getBaseRasterType()</a>, <a class="el" href="GraphWorld_8h_source.html#l00033">uriVL::kGrayRaster</a>, <a class="el" href="ErrorReport_8h_source.html#l00042">uriVL::kInvalidParameterError</a>, <a class="el" href="ErrorReport_8h_source.html#l00057">uriVL::kNullRasterImageError</a>, <a class="el" href="GraphWorld_8h_source.html#l00038">uriVL::kRGBa32Raster</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00160">patBlob_</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00168">patImg_</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">patternCorrScale_()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00051">setPattern()</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     patImg == NULL,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6">kNullRasterImageError</a>,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                    <span class="stringliteral">&quot;NULL image sent as parameter to PatternMatcher2D_scaledDiff::setPattern&quot;</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aa">BaseRasterType</a> patRasterType = patImg-&gt;<a class="code" href="classuriVL_1_1RasterImage.html#a68815937f6a787e4541a33b108198baf">getBaseRasterType</a>();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     (patRasterType != <a class="code" href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aaa4b34cd60ea999c3ceb9a7525440f8c78">kGrayRaster</a>) &amp;&amp; (patRasterType != <a class="code" href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aaa57d691eb26e9682b81292d38e6bcae60">kRGBa32Raster</a>),</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234aa16c6b61b89d7b7f5f4d7b29851db6bc">kInvalidParameterError</a>,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                    <span class="stringliteral">&quot;PatternMatcher2D_scaledDiff::setPattern only takes gray and RGBa images&quot;</span>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">//  if needed, allocate new temporary storage raster for the pattern and image</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a0b96745b7723e860f44b508c094b6b9a">allocateRasters_</a>(patImg, patBlob);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a655814ae536ac8de312360bcd51bbcee">patBlob_</a> = patBlob;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2ef0bd7f0cb4a08b0c01c9be9e7dd826">patImg_</a> = patImg;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a655814ae536ac8de312360bcd51bbcee"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a655814ae536ac8de312360bcd51bbcee">uriVL::PatternMatcher2D_scaledDiff::patBlob_</a></div><div class="ttdeci">const Blob * patBlob_</div><div class="ttdoc">Blob information of the pattern we are seeking. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00160">PatternMatcher2D_scaledDiff.h:160</a></div></div>
<div class="ttc" id="namespaceuriVL_html_ae611f1f5355c2cf1b01aabe41595b0aaa4b34cd60ea999c3ceb9a7525440f8c78"><div class="ttname"><a href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aaa4b34cd60ea999c3ceb9a7525440f8c78">uriVL::kGrayRaster</a></div><div class="ttdef"><b>Definition:</b> <a href="GraphWorld_8h_source.html#l00033">GraphWorld.h:33</a></div></div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234aa16c6b61b89d7b7f5f4d7b29851db6bc"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234aa16c6b61b89d7b7f5f4d7b29851db6bc">uriVL::kInvalidParameterError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00042">ErrorReport.h:42</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a0b96745b7723e860f44b508c094b6b9a"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a0b96745b7723e860f44b508c094b6b9a">uriVL::PatternMatcher2D_scaledDiff::allocateRasters_</a></div><div class="ttdeci">void allocateRasters_(const RasterImage *patImg, const Blob *patBlob)</div><div class="ttdoc">Allocates private computation rasters for the pattern and the image. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00843">PatternMatcher2D_scaledDiff.cpp:843</a></div></div>
<div class="ttc" id="namespaceuriVL_html_ae611f1f5355c2cf1b01aabe41595b0aaa57d691eb26e9682b81292d38e6bcae60"><div class="ttname"><a href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aaa57d691eb26e9682b81292d38e6bcae60">uriVL::kRGBa32Raster</a></div><div class="ttdoc">32 bits per pixel color (8r-8g-8b-8a) </div><div class="ttdef"><b>Definition:</b> <a href="GraphWorld_8h_source.html#l00038">GraphWorld.h:38</a></div></div>
<div class="ttc" id="namespaceuriVL_html_ae611f1f5355c2cf1b01aabe41595b0aa"><div class="ttname"><a href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aa">uriVL::BaseRasterType</a></div><div class="ttdeci">BaseRasterType</div><div class="ttdoc">Enumerates the base image raster types. </div><div class="ttdef"><b>Definition:</b> <a href="GraphWorld_8h_source.html#l00030">GraphWorld.h:30</a></div></div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a31e8f67443a84b63be35112c9506dab6">uriVL::kNullRasterImageError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00057">ErrorReport.h:57</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_a2ef0bd7f0cb4a08b0c01c9be9e7dd826"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#a2ef0bd7f0cb4a08b0c01c9be9e7dd826">uriVL::PatternMatcher2D_scaledDiff::patImg_</a></div><div class="ttdeci">const RasterImage * patImg_</div><div class="ttdoc">Pointer to the pattern&#39;s raster. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8h_source.html#l00168">PatternMatcher2D_scaledDiff.h:168</a></div></div>
<div class="ttc" id="classuriVL_1_1RasterImage_html_a68815937f6a787e4541a33b108198baf"><div class="ttname"><a href="classuriVL_1_1RasterImage.html#a68815937f6a787e4541a33b108198baf">uriVL::RasterImage::getBaseRasterType</a></div><div class="ttdeci">virtual BaseRasterType getBaseRasterType(void) const =0</div><div class="ttdoc">Returns the image&#39;s base raster type. </div></div>
<div class="ttc" id="ErrorReport_8h_html_aec1700420d31610bd52383237d0a2700"><div class="ttname"><a href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a></div><div class="ttdeci">#define FAIL_CONDITION(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00245">ErrorReport.h:245</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_ac741fac680906101cabe62490ac27c34_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_ac741fac680906101cabe62490ac27c34_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_ac741fac680906101cabe62490ac27c34_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_ac741fac680906101cabe62490ac27c34_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad379bc73b61c830d705d7ab4e6edc30b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PatternMatcher2D_scaledDiff::setPattern </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuriVL_1_1Pattern2D.html">Pattern2D</a> *&#160;</td>
          <td class="paramname"><em>pattern</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called to define the pattern used for subsequent covariance calculations This function is called by the match_ function. </p>
<p>It (and setImage) should be called prior to a call to <a class="el" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ae6ccb3bfd17ecaaea9c33795a577b248" title="Computes the correlation score between the pattern stored and an image at the location indicated...">covariance()</a>. Currently only RGBa and gray-level patterns are accepted. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pattern</td><td>the pattern we are seaking </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classuriVL_1_1PatternMatcher2D.html#a6ab9bc2f6f80d61cafe3f3768efe4a88">uriVL::PatternMatcher2D</a>.</p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00051">51</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a>.</p>

<p>References <a class="el" href="ErrorReport_8h_source.html#l00245">FAIL_CONDITION</a>, <a class="el" href="Pattern2D_8cpp_source.html#l00393">uriVL::Pattern2D::getBlob()</a>, <a class="el" href="Pattern2D_8cpp_source.html#l00387">uriVL::Pattern2D::getPattern()</a>, <a class="el" href="ErrorReport_8h_source.html#l00040">uriVL::kNullParameterError</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00059">setPattern()</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a>(     pat == NULL,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                    <a class="code" href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">kNullParameterError</a>,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                    <span class="stringliteral">&quot;NULL pattern sent as parameter to PatternMatcher2D_scaledDiff::setPattern&quot;</span>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ac741fac680906101cabe62490ac27c34">setPattern</a>(pat-&gt;getPattern(), pat-&gt;getBlob());</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="ttc" id="namespaceuriVL_html_a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e"><div class="ttname"><a href="namespaceuriVL.html#a15b2cf962c90465a6035ac431227b234a9f0026179c68dfd22bb8c4336e11d29e">uriVL::kNullParameterError</a></div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00040">ErrorReport.h:40</a></div></div>
<div class="ttc" id="classuriVL_1_1PatternMatcher2D__scaledDiff_html_ac741fac680906101cabe62490ac27c34"><div class="ttname"><a href="classuriVL_1_1PatternMatcher2D__scaledDiff.html#ac741fac680906101cabe62490ac27c34">uriVL::PatternMatcher2D_scaledDiff::setPattern</a></div><div class="ttdeci">void setPattern(const RasterImage *patImg, const Blob *patBlob=NULL)</div><div class="ttdoc">Called to define the pattern used for subsequent covariance calculations. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00059">PatternMatcher2D_scaledDiff.cpp:59</a></div></div>
<div class="ttc" id="ErrorReport_8h_html_aec1700420d31610bd52383237d0a2700"><div class="ttname"><a href="ErrorReport_8h.html#aec1700420d31610bd52383237d0a2700">FAIL_CONDITION</a></div><div class="ttdeci">#define FAIL_CONDITION(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorReport_8h_source.html#l00245">ErrorReport.h:245</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classuriVL_1_1PatternMatcher2D__scaledDiff_ad379bc73b61c830d705d7ab4e6edc30b_cgraph.png" border="0" usemap="#classuriVL_1_1PatternMatcher2D__scaledDiff_ad379bc73b61c830d705d7ab4e6edc30b_cgraph" alt=""/></div>
<map name="classuriVL_1_1PatternMatcher2D__scaledDiff_ad379bc73b61c830d705d7ab4e6edc30b_cgraph" id="classuriVL_1_1PatternMatcher2D__scaledDiff_ad379bc73b61c830d705d7ab4e6edc30b_cgraph">
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="af97ec824b3afcac986c22a89ece622ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float** uriVL::PatternMatcher2D_scaledDiff::grayImg_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>copy of a gray-level image region's raster </p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00180">180</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html">PatternMatcher2D_scaledDiff.h</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00397">covarianceGray_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00523">covarianceGrayBlob_()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00027">PatternMatcher2D_scaledDiff()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b7d0d9b09ed77af554d3d263a04f139"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float** uriVL::PatternMatcher2D_scaledDiff::grayPat_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>copy of a gray-level pattern's raster </p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00176">176</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html">PatternMatcher2D_scaledDiff.h</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00397">covarianceGray_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00523">covarianceGrayBlob_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00666">patternCorrScale_()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00027">PatternMatcher2D_scaledDiff()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f0caea6f6a58b104fe29086c55aa297"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a>* uriVL::PatternMatcher2D_scaledDiff::img_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the search image's raster. </p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00172">172</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html">PatternMatcher2D_scaledDiff.h</a>.</p>

</div>
</div>
<a class="anchor" id="a655814ae536ac8de312360bcd51bbcee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classuriVL_1_1Blob.html">Blob</a>* uriVL::PatternMatcher2D_scaledDiff::patBlob_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classuriVL_1_1Blob.html" title="XPair is used in fillHoles(), indicating each covered segment upstairs/downstairs for each line of Ho...">Blob</a> information of the pattern we are seeking. </p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00160">160</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html">PatternMatcher2D_scaledDiff.h</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00277">covariance()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00523">covarianceGrayBlob_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00428">covarianceRGBaBlob_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00027">PatternMatcher2D_scaledDiff()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00059">setPattern()</a>.</p>

</div>
</div>
<a class="anchor" id="a738a5f4c695a9c476c32c18981f3db13"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float* uriVL::PatternMatcher2D_scaledDiff::patExp_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Expected value(s) of the pattern raster. </p>
<p>If the pattern has a gray-level image, the array sotres asingle element </p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00193">193</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html">PatternMatcher2D_scaledDiff.h</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00843">allocateRasters_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00835">deleteRasters_()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">patternCorrScale_()</a>.</p>

</div>
</div>
<a class="anchor" id="af8f7db12f2a541d603e3964415a4ae09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int uriVL::PatternMatcher2D_scaledDiff::patHeight_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Height of the temporary rasters currently alocated. </p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00201">201</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html">PatternMatcher2D_scaledDiff.h</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00843">allocateRasters_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00397">covarianceGray_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00523">covarianceGrayBlob_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00327">covarianceRGBa_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00428">covarianceRGBaBlob_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">patternCorrScale_()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00027">PatternMatcher2D_scaledDiff()</a>.</p>

</div>
</div>
<a class="anchor" id="a2ef0bd7f0cb4a08b0c01c9be9e7dd826"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classuriVL_1_1RasterImage.html">RasterImage</a>* uriVL::PatternMatcher2D_scaledDiff::patImg_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the pattern's raster. </p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00168">168</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html">PatternMatcher2D_scaledDiff.h</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00059">setPattern()</a>.</p>

</div>
</div>
<a class="anchor" id="ae62aa157adaf56008a419d83a1de377d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceuriVL.html#ae611f1f5355c2cf1b01aabe41595b0aa">BaseRasterType</a> uriVL::PatternMatcher2D_scaledDiff::patRasterType_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Raster type of the pattern sought. </p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00164">164</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html">PatternMatcher2D_scaledDiff.h</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00843">allocateRasters_()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00027">PatternMatcher2D_scaledDiff()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d9a842b56a15c407e97f1cbb7995d6f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int uriVL::PatternMatcher2D_scaledDiff::patWidth_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Width of the temporary rasters currently alocated. </p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00197">197</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html">PatternMatcher2D_scaledDiff.h</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00843">allocateRasters_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00397">covarianceGray_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00523">covarianceGrayBlob_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00327">covarianceRGBa_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00428">covarianceRGBaBlob_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">patternCorrScale_()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00027">PatternMatcher2D_scaledDiff()</a>.</p>

</div>
</div>
<a class="anchor" id="a94ea27f6aaac9df01375687f7f0f1cb7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float*** uriVL::PatternMatcher2D_scaledDiff::rgbaImg_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>copy of a color rgba image region's raster </p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00188">188</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html">PatternMatcher2D_scaledDiff.h</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00327">covarianceRGBa_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00428">covarianceRGBaBlob_()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00027">PatternMatcher2D_scaledDiff()</a>.</p>

</div>
</div>
<a class="anchor" id="a2fb1eee81e0dae704e7c4723c5aa7bde"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float*** uriVL::PatternMatcher2D_scaledDiff::rgbaPat_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>copy of a color rgba pattern's raster </p>

<p>Definition at line <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html#l00184">184</a> of file <a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html">PatternMatcher2D_scaledDiff.h</a>.</p>

<p>Referenced by <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00327">covarianceRGBa_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00428">covarianceRGBaBlob_()</a>, <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00621">patternCorrScale_()</a>, and <a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html#l00027">PatternMatcher2D_scaledDiff()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="PatternMatcher2D__scaledDiff_8h_source.html">PatternMatcher2D_scaledDiff.h</a></li>
<li><a class="el" href="PatternMatcher2D__scaledDiff_8cpp_source.html">PatternMatcher2D_scaledDiff.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat May 9 2015 21:33:36 for URIVisionLibrary by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
